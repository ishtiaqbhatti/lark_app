import{r as u,X as x,l as p,ah as f,aj as e,au as i,ay as c,ao as g,ax as m,ad as d}from"./index-igZMX4Bp.js";import{e as h}from"./orchestratorService-C1VspGjv.js";import{P as j}from"./progress-nMxHyNiz.js";import{R as v}from"./CheckCircleOutlined-DkLkWzh1.js";var R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm-88-532h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8zm224 0h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8z"}}]},name:"pause-circle",theme:"outlined"},I=function(s,o){return u.createElement(x,p({},s,{ref:o,icon:R}))},w=u.forwardRef(I);const b=({jobId:n})=>{var a,l;const{data:s,isLoading:o}=f(["jobStatus",n],()=>h(n),{refetchInterval:t=>(t==null?void 0:t.status)==="running"||(t==null?void 0:t.status)==="pending"||(t==null?void 0:t.status)==="paused"?3e3:!1,enabled:!!n});if(o&&!s)return e.jsx(i,{icon:e.jsx(c,{spin:!0}),children:"Loading..."});if(!s)return e.jsx(i,{children:"Unknown"});const r={pending:{icon:e.jsx(c,{}),color:"default",text:"Pending"},running:{icon:e.jsx(c,{spin:!0}),color:"processing",text:((a=s.result)==null?void 0:a.step)||"Running..."},completed:{icon:e.jsx(v,{}),color:"success",text:"Completed"},failed:{icon:e.jsx(m,{}),color:"error",text:"Failed"},paused:{icon:e.jsx(w,{}),color:"warning",text:"Paused (Awaiting Approval)"}}[s.status]||{icon:e.jsx(d,{}),color:"default",text:"Queued"};return e.jsxs(g,{title:s.error||((l=s.result)==null?void 0:l.message)||s.status_message,children:[" ",e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[e.jsx(i,{icon:r.icon,color:r.color,children:r.text}),(s.status==="running"||s.status==="paused")&&e.jsx(j,{percent:s.progress,size:"small",status:"active",showInfo:!1,style:{width:"100px",margin:0}})]})]})};export{b as J};
