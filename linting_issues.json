{
    "ruff": [
        {
            "cell": null,
            "code": "F541",
            "end_location": {
                "column": 56,
                "row": 132
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/agents/article_generator.py",
            "fix": {
                "applicability": "safe",
                "edits": [
                    {
                        "content": "\"\\n<h2>Conclusion</h2>\\n\"",
                        "end_location": {
                            "column": 56,
                            "row": 132
                        },
                        "location": {
                            "column": 30,
                            "row": 132
                        }
                    }
                ],
                "message": "Remove extraneous `f` prefix"
            },
            "location": {
                "column": 30,
                "row": 132
            },
            "message": "f-string without any placeholders",
            "noqa_row": 132,
            "url": "https://docs.astral.sh/ruff/rules/f-string-missing-placeholders"
        },
        {
            "cell": null,
            "code": "E402",
            "end_location": {
                "column": 45,
                "row": 13
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/api/main.py",
            "fix": null,
            "location": {
                "column": 1,
                "row": 13
            },
            "message": "Module level import not at top of file",
            "noqa_row": 13,
            "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
        },
        {
            "cell": null,
            "code": "E402",
            "end_location": {
                "column": 57,
                "row": 14
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/api/main.py",
            "fix": null,
            "location": {
                "column": 1,
                "row": 14
            },
            "message": "Module level import not at top of file",
            "noqa_row": 14,
            "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
        },
        {
            "cell": null,
            "code": "E402",
            "end_location": {
                "column": 28,
                "row": 15
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/api/main.py",
            "fix": null,
            "location": {
                "column": 1,
                "row": 15
            },
            "message": "Module level import not at top of file",
            "noqa_row": 15,
            "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
        },
        {
            "cell": null,
            "code": "E402",
            "end_location": {
                "column": 37,
                "row": 17
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/api/main.py",
            "fix": null,
            "location": {
                "column": 1,
                "row": 17
            },
            "message": "Module level import not at top of file",
            "noqa_row": 17,
            "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
        },
        {
            "cell": null,
            "code": "F401",
            "end_location": {
                "column": 12,
                "row": 4
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/api/routers/client_settings.py",
            "fix": {
                "applicability": "safe",
                "edits": [
                    {
                        "content": "",
                        "end_location": {
                            "column": 1,
                            "row": 5
                        },
                        "location": {
                            "column": 1,
                            "row": 4
                        }
                    }
                ],
                "message": "Remove unused import: `json`"
            },
            "location": {
                "column": 8,
                "row": 4
            },
            "message": "`json` imported but unused",
            "noqa_row": 4,
            "url": "https://docs.astral.sh/ruff/rules/unused-import"
        },
        {
            "cell": null,
            "code": "F821",
            "end_location": {
                "column": 19,
                "row": 11
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/api/routers/client_settings.py",
            "fix": null,
            "location": {
                "column": 10,
                "row": 11
            },
            "message": "Undefined name `APIRouter`",
            "noqa_row": 11,
            "url": "https://docs.astral.sh/ruff/rules/undefined-name"
        },
        {
            "cell": null,
            "code": "F821",
            "end_location": {
                "column": 34,
                "row": 17
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/api/routers/client_settings.py",
            "fix": null,
            "location": {
                "column": 27,
                "row": 17
            },
            "message": "Undefined name `Depends`",
            "noqa_row": 17,
            "url": "https://docs.astral.sh/ruff/rules/undefined-name"
        },
        {
            "cell": null,
            "code": "F821",
            "end_location": {
                "column": 49,
                "row": 18
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/api/routers/client_settings.py",
            "fix": null,
            "location": {
                "column": 42,
                "row": 18
            },
            "message": "Undefined name `Depends`",
            "noqa_row": 18,
            "url": "https://docs.astral.sh/ruff/rules/undefined-name"
        },
        {
            "cell": null,
            "code": "F821",
            "end_location": {
                "column": 28,
                "row": 21
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/api/routers/client_settings.py",
            "fix": null,
            "location": {
                "column": 15,
                "row": 21
            },
            "message": "Undefined name `HTTPException`",
            "noqa_row": 21,
            "url": "https://docs.astral.sh/ruff/rules/undefined-name"
        },
        {
            "cell": null,
            "code": "F821",
            "end_location": {
                "column": 28,
                "row": 27
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/api/routers/client_settings.py",
            "fix": null,
            "location": {
                "column": 15,
                "row": 27
            },
            "message": "Undefined name `HTTPException`",
            "noqa_row": 27,
            "url": "https://docs.astral.sh/ruff/rules/undefined-name"
        },
        {
            "cell": null,
            "code": "F821",
            "end_location": {
                "column": 34,
                "row": 37
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/api/routers/client_settings.py",
            "fix": null,
            "location": {
                "column": 27,
                "row": 37
            },
            "message": "Undefined name `Depends`",
            "noqa_row": 37,
            "url": "https://docs.astral.sh/ruff/rules/undefined-name"
        },
        {
            "cell": null,
            "code": "F821",
            "end_location": {
                "column": 49,
                "row": 38
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/api/routers/client_settings.py",
            "fix": null,
            "location": {
                "column": 42,
                "row": 38
            },
            "message": "Undefined name `Depends`",
            "noqa_row": 38,
            "url": "https://docs.astral.sh/ruff/rules/undefined-name"
        },
        {
            "cell": null,
            "code": "F821",
            "end_location": {
                "column": 28,
                "row": 41
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/api/routers/client_settings.py",
            "fix": null,
            "location": {
                "column": 15,
                "row": 41
            },
            "message": "Undefined name `HTTPException`",
            "noqa_row": 41,
            "url": "https://docs.astral.sh/ruff/rules/undefined-name"
        },
        {
            "cell": null,
            "code": "F821",
            "end_location": {
                "column": 28,
                "row": 53
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/api/routers/client_settings.py",
            "fix": null,
            "location": {
                "column": 15,
                "row": 53
            },
            "message": "Undefined name `HTTPException`",
            "noqa_row": 53,
            "url": "https://docs.astral.sh/ruff/rules/undefined-name"
        },
        {
            "cell": null,
            "code": "F401",
            "end_location": {
                "column": 12,
                "row": 3
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/api/routers/opportunities.py",
            "fix": {
                "applicability": "safe",
                "edits": [
                    {
                        "content": "",
                        "end_location": {
                            "column": 1,
                            "row": 4
                        },
                        "location": {
                            "column": 1,
                            "row": 3
                        }
                    }
                ],
                "message": "Remove unused import: `json`"
            },
            "location": {
                "column": 8,
                "row": 3
            },
            "message": "`json` imported but unused",
            "noqa_row": 3,
            "url": "https://docs.astral.sh/ruff/rules/unused-import"
        },
        {
            "cell": null,
            "code": "F841",
            "end_location": {
                "column": 19,
                "row": 1900
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/data_access/database_manager.py",
            "fix": {
                "applicability": "unsafe",
                "edits": [
                    {
                        "content": "",
                        "end_location": {
                            "column": 22,
                            "row": 1900
                        },
                        "location": {
                            "column": 13,
                            "row": 1900
                        }
                    }
                ],
                "message": "Remove assignment to unused variable `cursor`"
            },
            "location": {
                "column": 13,
                "row": 1900
            },
            "message": "Local variable `cursor` is assigned to but never used",
            "noqa_row": 1900,
            "url": "https://docs.astral.sh/ruff/rules/unused-variable"
        },
        {
            "cell": null,
            "code": "E402",
            "end_location": {
                "column": 53,
                "row": 9
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/export_db.py",
            "fix": null,
            "location": {
                "column": 1,
                "row": 9
            },
            "message": "Module level import not at top of file",
            "noqa_row": 9,
            "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
        },
        {
            "cell": null,
            "code": "E402",
            "end_location": {
                "column": 65,
                "row": 10
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/export_db.py",
            "fix": null,
            "location": {
                "column": 1,
                "row": 10
            },
            "message": "Module level import not at top of file",
            "noqa_row": 10,
            "url": "https://docs.astral.sh/ruff/rules/module-import-not-at-top-of-file"
        },
        {
            "cell": null,
            "code": "F841",
            "end_location": {
                "column": 18,
                "row": 871
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/external_apis/dataforseo_client_v2.py",
            "fix": {
                "applicability": "unsafe",
                "edits": [
                    {
                        "content": "",
                        "end_location": {
                            "column": 21,
                            "row": 871
                        },
                        "location": {
                            "column": 9,
                            "row": 871
                        }
                    }
                ],
                "message": "Remove assignment to unused variable `max_pages`"
            },
            "location": {
                "column": 9,
                "row": 871
            },
            "message": "Local variable `max_pages` is assigned to but never used",
            "noqa_row": 871,
            "url": "https://docs.astral.sh/ruff/rules/unused-variable"
        },
        {
            "cell": null,
            "code": "F821",
            "end_location": {
                "column": 40,
                "row": 77
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/jobs.py",
            "fix": null,
            "location": {
                "column": 36,
                "row": 77
            },
            "message": "Undefined name `json`",
            "noqa_row": 77,
            "url": "https://docs.astral.sh/ruff/rules/undefined-name"
        },
        {
            "cell": null,
            "code": "F821",
            "end_location": {
                "column": 28,
                "row": 78
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/jobs.py",
            "fix": null,
            "location": {
                "column": 24,
                "row": 78
            },
            "message": "Undefined name `json`",
            "noqa_row": 78,
            "url": "https://docs.astral.sh/ruff/rules/undefined-name"
        },
        {
            "cell": null,
            "code": "F401",
            "end_location": {
                "column": 71,
                "row": 7
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/pipeline/orchestrator/discovery_orchestrator.py",
            "fix": {
                "applicability": "safe",
                "edits": [
                    {
                        "content": "",
                        "end_location": {
                            "column": 1,
                            "row": 8
                        },
                        "location": {
                            "column": 1,
                            "row": 7
                        }
                    }
                ],
                "message": "Remove unused import: `backend.services.serp_analysis_service.SerpAnalysisService`"
            },
            "location": {
                "column": 52,
                "row": 7
            },
            "message": "`backend.services.serp_analysis_service.SerpAnalysisService` imported but unused",
            "noqa_row": 7,
            "url": "https://docs.astral.sh/ruff/rules/unused-import"
        },
        {
            "cell": null,
            "code": "F401",
            "end_location": {
                "column": 17,
                "row": 4
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/pipeline/orchestrator/workflow_orchestrator.py",
            "fix": {
                "applicability": "safe",
                "edits": [
                    {
                        "content": "",
                        "end_location": {
                            "column": 1,
                            "row": 5
                        },
                        "location": {
                            "column": 1,
                            "row": 4
                        }
                    }
                ],
                "message": "Remove unused import: `threading`"
            },
            "location": {
                "column": 8,
                "row": 4
            },
            "message": "`threading` imported but unused",
            "noqa_row": 4,
            "url": "https://docs.astral.sh/ruff/rules/unused-import"
        },
        {
            "cell": null,
            "code": "F401",
            "end_location": {
                "column": 87,
                "row": 12
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/pipeline/step_01_discovery/run_discovery.py",
            "fix": {
                "applicability": "safe",
                "edits": [
                    {
                        "content": "",
                        "end_location": {
                            "column": 1,
                            "row": 13
                        },
                        "location": {
                            "column": 1,
                            "row": 12
                        }
                    }
                ],
                "message": "Remove unused import: `pipeline.step_01_discovery.blog_content_qualifier.assign_status_from_score`"
            },
            "location": {
                "column": 63,
                "row": 12
            },
            "message": "`pipeline.step_01_discovery.blog_content_qualifier.assign_status_from_score` imported but unused",
            "noqa_row": 12,
            "url": "https://docs.astral.sh/ruff/rules/unused-import"
        },
        {
            "cell": null,
            "code": "F401",
            "end_location": {
                "column": 71,
                "row": 13
            },
            "filename": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/backend/pipeline/step_01_discovery/run_discovery.py",
            "fix": {
                "applicability": "safe",
                "edits": [
                    {
                        "content": "",
                        "end_location": {
                            "column": 1,
                            "row": 14
                        },
                        "location": {
                            "column": 1,
                            "row": 13
                        }
                    }
                ],
                "message": "Remove unused import: `backend.services.serp_analysis_service.SerpAnalysisService`"
            },
            "location": {
                "column": 52,
                "row": 13
            },
            "message": "`backend.services.serp_analysis_service.SerpAnalysisService` imported but unused",
            "noqa_row": 13,
            "url": "https://docs.astral.sh/ruff/rules/unused-import"
        }
    ],
    "mypy": [
        {
            "file_path": "backend/pipeline/step_01_discovery/disqualification_rules.py",
            "line": 409,
            "level": "SyntaxWarning",
            "message": "invalid escape sequence '\\d'"
        }
    ],
    "eslint": [
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/App.jsx",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'JobProvider' is defined but never used.",
                    "line": 20,
                    "column": 10,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 20,
                    "endColumn": 21
                }
            ],
            "suppressedMessages": [],
            "errorCount": 1,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "import React, { lazy, Suspense } from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport MainLayout from './components/layout/MainLayout';\nimport { useAuth } from './context/AuthContext';\nimport LoginPage from './pages/Auth/LoginPage';\nimport { Spin } from 'antd'; // For loading state\n\n// Dynamically import page components\nconst DiscoveryPage = lazy(() => import('./pages/DiscoveryPage/DiscoveryPage'));\nconst RunDetailsPage = lazy(() => import('./pages/RunDetailsPage/RunDetailsPage'));\nconst OpportunitiesPage = lazy(() => import('./pages/OpportunitiesPage/OpportunitiesPage'));\nconst DashboardPage = lazy(() => import('./pages/Dashboard/DashboardPage'));\nconst ClientDashboardPage = lazy(() => import('./pages/ClientDashboard/ClientDashboardPage'));\nconst OpportunityDetailPage = lazy(() => import('./pages/opportunity-detail-page/index.jsx'));\nconst ActivityLogPage = lazy(() => import('./pages/ActivityLog/ActivityLogPage'));\nconst SettingsPage = lazy(() => import('./pages/Settings/SettingsPage'));\nconst NotFoundPage = lazy(() => import('./pages/NotFoundPage/NotFoundPage'));\nconst BlogPage = lazy(() => import('./pages/BlogPage/BlogPage'));\n\nimport { JobProvider } from './context/JobContext';\n\nfunction App() {\n  const { isAuthenticated, loading } = useAuth();\n\n  if (loading) {\n    return (\n      <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}>\n        <Spin size=\"large\" tip=\"Loading authentication...\" />\n      </div>\n    );\n  }\n\n  return (\n    <Suspense fallback={<div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}><Spin size=\"large\" /></div>}>\n      <Routes>\n        {isAuthenticated ? (\n          <>\n            <Route path=\"/\" element={<MainLayout />}>\n              <Route index element={<DashboardPage />} />\n              <Route path=\"/dashboard\" element={<DashboardPage />} />\n              <Route path=\"/clients\" element={<ClientDashboardPage />} />\n              <Route path=\"/opportunities\" element={<OpportunitiesPage />} />\n              <Route path=\"/opportunities/:opportunityId\" element={<OpportunityDetailPage />} />\n              <Route path=\"/discovery-run/:runId\" element={<RunDetailsPage />} />\n              <Route path=\"/activity-log\" element={<ActivityLogPage />} />\n              <Route path=\"/settings\" element={<SettingsPage />} />\n              <Route path=\"/discovery\" element={<DiscoveryPage />} />\n              <Route path=\"*\" element={<NotFoundPage />} />\n            </Route>\n            <Route path=\"/blog/:opportunityId\" element={<BlogPage />} />\n          </>\n        ) : (\n          <>\n            <Route path=\"/login\" element={<LoginPage />} />\n            <Route path=\"*\" element={<LoginPage />} />\n          </>\n        )}\n      </Routes>\n    </Suspense>\n  );\n}\n\nexport default App;",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/components/ContentDiffViewer.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/components/CostConfirmationModal.jsx",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'Title' is assigned a value but never used.",
                    "line": 7,
                    "column": 9,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 7,
                    "endColumn": 14
                }
            ],
            "suppressedMessages": [],
            "errorCount": 1,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "// This is a new file. Create it with the following content:\nimport React from 'react';\nimport { Modal, Typography, Spin, Alert, List } from 'antd';\nimport { useQuery } from 'react-query';\nimport { estimateActionCost } from '../services/orchestratorService'; // NEW\n\nconst { Title, Text, Paragraph } = Typography;\n\nconst CostConfirmationModal = ({ open, onCancel, onConfirm, opportunityId, actionType }) => {\n  const { data: costEstimate, isLoading, isError, error } = useQuery(\n    ['costEstimate', opportunityId, actionType],\n    () => estimateActionCost(opportunityId, actionType),\n    {\n      enabled: open && !!opportunityId && !!actionType, // Only fetch when modal is open\n      staleTime: 5 * 60 * 1000, // Cost estimates don't change frequently\n    }\n  );\n\n  const getActionTitle = (type) => {\n    switch (type) {\n      case 'analyze': return 'Run Deep-Dive Analysis';\n      case 'generate': return 'Generate Full Content Package';\n      case 'refresh': return 'Refresh Content (Analysis & Generation)';\n      case 'validate': return 'Run Live SERP Validation';\n      default: return 'Perform Action';\n    }\n  };\n\n  return (\n    <Modal\n      title={getActionTitle(actionType)}\n      open={open}\n      onCancel={onCancel}\n      onOk={onConfirm}\n      confirmLoading={isLoading}\n      okText=\"Confirm & Proceed\"\n      cancelText=\"Cancel\"\n    >\n      {isLoading ? (\n        <Spin tip=\"Estimating API costs...\" />\n      ) : isError ? (\n        <Alert\n          message=\"Error Estimating Cost\"\n          description={error?.message || 'Could not fetch cost estimation. Proceed with caution.'}\n          type=\"error\"\n          showIcon\n        />\n      ) : (\n        <>\n          <Paragraph>\n            This action will incur API costs. Please review the estimate below before proceeding.\n          </Paragraph>\n          <List\n            size=\"small\"\n            bordered\n            dataSource={costEstimate?.breakdown || []}\n            renderItem={item => (\n    <List.Item\n        actions={[\n            <Text key=\"cost\" strong>\n                {item.cost ? `$${item.cost.toFixed(4)}` : item.cost === 0 ? '$0.0000' : 'N/A'}\n            </Text>\n        ]}\n    >\n        <List.Item.Meta\n            title={item.service}\n            description={item.details}\n        />\n    </List.Item>\n)}\nfooter={\n    <Paragraph strong style={{ fontSize: '1.2em' }}>Estimated Total: <Text code>${costEstimate?.total_cost?.toFixed(4) || '0.0000'}</Text> USD</Paragraph>\n}\n/>\n<Alert\n            message=\"This is an estimate. Actual costs may vary.\"\n            type=\"info\"\n            showIcon\n            style={{ marginTop: '16px' }}\n          />\n        </>\n      )}\n    </Modal>\n  );\n};\n\nexport default CostConfirmationModal;",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/components/GlobalJobTracker.jsx",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'CheckCircleOutlined' is defined but never used.",
                    "line": 4,
                    "column": 10,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 4,
                    "endColumn": 29
                },
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'LoadingOutlined' is defined but never used.",
                    "line": 4,
                    "column": 52,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 4,
                    "endColumn": 67
                }
            ],
            "suppressedMessages": [],
            "errorCount": 2,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "import React from 'react';\nimport { Alert, Spin } from 'antd';\nimport { useJobs } from '../context/JobContext';\nimport { CheckCircleOutlined, CloseCircleOutlined, LoadingOutlined, ClockCircleOutlined } from '@ant-design/icons';\n\nconst GlobalJobTracker = () => {\n  const { activeJobs } = useJobs();\n\n  if (!activeJobs || activeJobs.length === 0) {\n    return null;\n  }\n\n  return (\n    <div style={{ position: 'fixed', bottom: 24, right: 24, zIndex: 1000, display: 'flex', flexDirection: 'column', gap: '16px' }}>\n      {activeJobs.map((job) => {\n        const { id, status, result, error, function_name } = job;\n\n        let icon, type, message, description;\n        const jobTitle = function_name ? function_name.replace(/_/g, ' ').replace(/_background/g, '').replace('run ', '').trim().toUpperCase() : 'Job';\n        \n        switch (status) {\n          case 'running':\n            icon = <Spin />;\n            type = 'info';\n            message = `${jobTitle} in Progress`;\n            description = result?.step || result?.message || 'Processing...';\n            break;\n          case 'pending':\n            icon = <ClockCircleOutlined />;\n            type = 'info';\n            message = `${jobTitle} is Pending`;\n            description = 'The job is queued and will start shortly.';\n            break;\n          case 'completed':\n            return null;\n          case 'failed':\n            icon = <CloseCircleOutlined />;\n            type = 'error';\n            message = `${jobTitle} Failed`;\n            description = error || 'An unknown error occurred.';\n            break;\n          default:\n            return null;\n        }\n\n        return (\n          <Alert\n            key={id}\n            message={message}\n            description={description}\n            type={type}\n            showIcon\n            icon={icon}\n            style={{ boxShadow: '0 2px 8px rgba(0,0,0,0.15)' }}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nexport default GlobalJobTracker;\n",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/components/JobStatusIndicator.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/components/OpportunityTable.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/components/PromptTemplateEditor.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/components/layout/AppSidebar.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/components/layout/MainLayout.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/context/AuthContext.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/context/ClientContext.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/context/JobContext.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/context/NotificationContext.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/hooks/useClient.js",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/hooks/useDebounce.js",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/main.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/ActivityLog/ActivityLogPage.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/Auth/LoginPage.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/BlogPage/BlogPage.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/ClientDashboard/AddNewClientModal.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/ClientDashboard/ClientDashboardPage.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/ClientSettings/ClientSettingsPage.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/Dashboard/DashboardPage.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/DiscoveryPage/DiscoveryPage.jsx",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'message' is defined but never used.",
                    "line": 2,
                    "column": 58,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 2,
                    "endColumn": 65
                },
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'CostConfirmationModal' is defined but never used.",
                    "line": 8,
                    "column": 8,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 8,
                    "endColumn": 29
                },
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'estimateActionCost' is defined but never used.",
                    "line": 9,
                    "column": 10,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 9,
                    "endColumn": 28
                },
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'navigate' is assigned a value but never used.",
                    "line": 23,
                    "column": 9,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 23,
                    "endColumn": 17
                }
            ],
            "suppressedMessages": [],
            "errorCount": 4,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "import React, { useState } from 'react';\nimport { Layout, Typography, Spin, Alert, Card, Divider, message } from 'antd';\nimport { useNavigate } from 'react-router-dom'; // Import useNavigate\nimport { useDiscoveryRuns } from './hooks/useDiscoveryRuns';\nimport DiscoveryForm from './components/DiscoveryForm';\nimport DiscoveryHistory from './components/DiscoveryHistory';\nimport { useClient } from '../../hooks/useClient';\nimport CostConfirmationModal from '../../components/CostConfirmationModal';\nimport { estimateActionCost } from '../../services/orchestratorService';\n\nconst { Content } = Layout;\nconst { Title } = Typography;\n\nimport useDebounce from '../../hooks/useDebounce'; // Add this import\n\nconst DiscoveryPage = () => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [dateRange, setDateRange] = useState(null);\n  const debouncedSearchQuery = useDebounce(searchQuery, 500);\n\n  const { runs, totalRuns, page, setPage, isLoading, isError, error, startRunMutation, rerunMutation } = useDiscoveryRuns(debouncedSearchQuery, dateRange);\n  const { clientId } = useClient();\n  const navigate = useNavigate(); // Initialize navigate\n\n  const handleRerun = (runId) => {\n      rerunMutation.mutate(runId);\n  }\n\n  const handleSearchChange = (query) => {\n    setSearchQuery(query);\n    setPage(1); // Reset to first page on new search\n  };\n\n  const handleDateChange = (dates) => {\n    setDateRange(dates);\n    setPage(1); // Reset to first page on date change\n  };\n\n  if (isLoading) {\n    return (\n      <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}>\n        <Spin size=\"large\" tip=\"Loading Discovery Hub...\" />\n      </div>\n    );\n  }\n\n  if (isError) {\n    return (\n        <Alert\n            message=\"Error\"\n            description={error.message || \"Failed to load discovery run history. Please try again.\"}\n            type=\"error\"\n            showIcon\n            style={{ margin: '16px' }}\n        />\n    );\n  }\n\n  return (\n    <Layout style={{ padding: '24px', background: '#f0f2f5' }}>\n      <Content style={{ maxWidth: '1200px', margin: '0 auto' }}>\n        <Spin spinning={startRunMutation.isLoading} tip=\"Starting discovery run...\" size=\"large\">\n          <Title level={2} style={{ marginBottom: '24px' }}>Discovery Hub</Title>\n          <Card style={{ marginBottom: '32px', boxShadow: '0 4px 12px rgba(0, 0, 0, 0.05)' }}>\n            <DiscoveryForm\n              isSubmitting={startRunMutation.isLoading}\n              onSubmit={({ runData }) => {\n                startRunMutation.mutate({ clientId, runData });\n              }}\n            />\n          </Card>\n\n          <Divider />\n\n          <DiscoveryHistory\n              runs={runs}\n              totalRuns={totalRuns}\n              page={page}\n              setPage={setPage}\n              isLoading={isLoading || startRunMutation.isLoading || rerunMutation.isLoading}\n              onRerun={handleRerun}\n              isRerunning={rerunMutation.isLoading}\n              searchQuery={searchQuery}\n              setSearchQuery={handleSearchChange}\n              setDateRange={handleDateChange}\n          />\n        </Spin>\n      </Content>\n    </Layout>\n  );\n};\n\nexport default DiscoveryPage;\n",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/DiscoveryPage/components/DiscoveryForm.jsx",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'Card' is defined but never used.",
                    "line": 2,
                    "column": 74,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 2,
                    "endColumn": 78
                }
            ],
            "suppressedMessages": [],
            "errorCount": 1,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "import React from 'react';\nimport { Input, Button, Typography, Form, Row, Col, InputNumber, Select, Card, Tooltip, Divider } from 'antd';\nimport { RocketOutlined, QuestionCircleOutlined } from '@ant-design/icons';\n\nconst { Title, Text } = Typography;\nconst { Option } = Select;\n\nconst DiscoveryForm = ({ isSubmitting, onSubmit }) => {\n  const [form] = Form.useForm();\n\n  const onFinish = (values) => {\n    const { keyword, search_volume_value, difficulty_value, competition_level, search_intent } = values;\n\n    const filters = [];\n    const filterPathPrefix = 'keyword_data.';\n    if (search_volume_value !== undefined && search_volume_value !== null) {\n      filters.push({ field: `${filterPathPrefix}keyword_info.search_volume`, operator: '>', value: search_volume_value });\n    }\n    if (difficulty_value !== undefined && difficulty_value !== null) {\n      filters.push({ field: `${filterPathPrefix}keyword_properties.keyword_difficulty`, operator: '<', value: difficulty_value });\n    }\n    if (competition_level && competition_level.length > 0) {\n      filters.push({ field: `${filterPathPrefix}keyword_info.competition_level`, operator: 'in', value: competition_level });\n    }\n    if (search_intent && search_intent.length > 0) {\n      filters.push({ field: `${filterPathPrefix}search_intent_info.main_intent`, operator: 'in', value: search_intent });\n    }\n\n    const runData = {\n      seed_keywords: [keyword],\n      filters: filters.length > 0 ? filters : null,\n    };\n    \n    onSubmit({ runData });\n  };\n\n  return (\n    <Form form={form} layout=\"vertical\" onFinish={onFinish} initialValues={{\n      search_volume_value: 500,\n      difficulty_value: 20,\n      competition_level: ['LOW'],\n      search_intent: ['informational'],\n    }}>\n      <Title level={3}>Start a New Discovery Run</Title>\n      <Text type=\"secondary\" style={{ marginBottom: '24px', display: 'block' }}>\n        Enter a broad topic or a specific keyword to begin exploring related content opportunities.\n      </Text>\n\n      <Form.Item \n        name=\"keyword\" \n        rules={[{ required: true, message: 'Please enter a seed keyword.' }]}\n        label={<Title level={4}>Seed Keyword</Title>}\n      >\n        <Input placeholder=\"e.g., 'AI in marketing' or 'how to start a blog'\" size=\"large\" />\n      </Form.Item>\n      \n      <Divider orientation=\"left\" style={{ color: 'rgba(0,0,0,.55)', fontSize: '16px', marginTop: '32px' }}>\n        Fine-tune with Filters (Optional)\n      </Divider>\n        <Row gutter={24}>\n          <Col xs={24} sm={12}>\n            <Form.Item \n              name=\"search_volume_value\" \n              label={\n                <span>\n                  Monthly Search Volume (Greater than) \n                  <Tooltip title=\"Only find keywords with at least this many monthly searches.\">\n                    <QuestionCircleOutlined style={{ marginLeft: 4, color: 'rgba(0,0,0,.45)' }} />\n                  </Tooltip>\n                </span>\n              }\n            >\n              <InputNumber style={{ width: '100%' }} placeholder=\"e.g., 500\" />\n            </Form.Item>\n          </Col>\n          <Col xs={24} sm={12}>\n            <Form.Item \n              name=\"difficulty_value\" \n              label={\n                <span>\n                  SEO Difficulty (Less than) \n                  <Tooltip title=\"Only find keywords with a difficulty score below this value (0-100).\">\n                    <QuestionCircleOutlined style={{ marginLeft: 4, color: 'rgba(0,0,0,.45)' }} />\n                  </Tooltip>\n                </span>\n              }\n            >\n              <InputNumber style={{ width: '100%' }} placeholder=\"e.g., 20\" min={0} max={100} />\n            </Form.Item>\n          </Col>\n          <Col xs={24} sm={12}>\n            <Form.Item \n              name=\"competition_level\" \n              label={\n                <span>\n                  Competition Level \n                  <Tooltip title=\"Filter by the level of competition for paid ads.\">\n                    <QuestionCircleOutlined style={{ marginLeft: 4, color: 'rgba(0,0,0,.45)' }} />\n                  </Tooltip>\n                </span>\n              }\n            >\n              <Select mode=\"multiple\" placeholder=\"Any\" allowClear>\n                <Option value=\"LOW\">Low</Option>\n                <Option value=\"MEDIUM\">Medium</Option>\n                <Option value=\"HIGH\">High</Option>\n              </Select>\n            </Form.Item>\n          </Col>\n          <Col xs={24} sm={12}>\n            <Form.Item \n              name=\"search_intent\" \n              label={\n                <span>\n                  Search Intent \n                  <Tooltip title=\"Filter for keywords based on the user's goal (e.g., to learn, to buy).\">\n                    <QuestionCircleOutlined style={{ marginLeft: 4, color: 'rgba(0,0,0,.45)' }} />\n                  </Tooltip>\n                </span>\n              }\n            >\n              <Select mode=\"multiple\" placeholder=\"Any\" allowClear>\n                <Option value=\"informational\">Informational</Option>\n                <Option value=\"commercial\">Commercial</Option>\n                <Option value=\"transactional\">Transactional</Option>\n                <Option value=\"navigational\">Navigational</Option>\n              </Select>\n            </Form.Item>\n          </Col>\n        </Row>\n\n      <Form.Item style={{ marginTop: '32px', marginBottom: 0 }}>\n        <Button type=\"primary\" htmlType=\"submit\" icon={<RocketOutlined />} loading={isSubmitting} size=\"large\" block>\n          Find Opportunities\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n};\n\nexport default DiscoveryForm;",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/DiscoveryPage/components/DiscoveryHistory.jsx",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'useMemo' is defined but never used.",
                    "line": 1,
                    "column": 27,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 1,
                    "endColumn": 34
                },
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'Alert' is defined but never used.",
                    "line": 2,
                    "column": 104,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 2,
                    "endColumn": 109
                },
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'ReloadOutlined' is defined but never used.",
                    "line": 3,
                    "column": 10,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 3,
                    "endColumn": 24
                },
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'onRerun' is defined but never used.",
                    "line": 21,
                    "column": 46,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 21,
                    "endColumn": 53
                },
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'isRerunning' is defined but never used.",
                    "line": 21,
                    "column": 55,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 21,
                    "endColumn": 66
                }
            ],
            "suppressedMessages": [],
            "errorCount": 5,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "import React, { useState, useMemo } from 'react';\nimport { Table, Tag, Tooltip, Button, Modal, Progress, Empty, Typography, Input, Row, Col, DatePicker, Alert } from 'antd';\nimport { ReloadOutlined, ProfileOutlined, ClockCircleOutlined, CheckCircleOutlined, CloseCircleOutlined, LoadingOutlined, EyeOutlined } from '@ant-design/icons';\nimport { useNavigate } from 'react-router-dom';\nimport { formatDistanceToNow } from 'date-fns';\nimport RunDetailsModal from './RunDetailsModal';\nimport DiscoveryStatsBreakdown from './DiscoveryStatsBreakdown'; // NEW: For expandable row\n\nconst { Title, Text } = Typography;\nconst { Search } = Input;\nconst { RangePicker } = DatePicker;\n\nconst STATUS_CONFIG = {\n  running: { color: 'processing', text: 'Running', icon: <LoadingOutlined spin /> },\n  completed: { color: 'success', text: 'Completed', icon: <CheckCircleOutlined /> },\n  failed: { color: 'error', text: 'Failed', icon: <CloseCircleOutlined /> },\n  pending: { color: 'default', text: 'Pending', icon: <ClockCircleOutlined /> },\n};\n\nconst DiscoveryHistory = ({\n  runs, totalRuns, page, setPage, isLoading, onRerun, isRerunning,\n  searchQuery, setSearchQuery, setDateRange\n}) => {\n  const navigate = useNavigate();\n  // Local state for filters is removed, now using props\n  const [errorModal, setErrorModal] = useState({ open: false, content: '' });\n  const [detailsModal, setDetailsModal] = useState({ open: false, run: null });\n\n  const handleShowError = (errorMsg) => {\n    setErrorModal({ open: true, content: errorMsg || 'No error details provided.' });\n  };\n\n  const handleShowDetails = (run) => {\n    setDetailsModal({ open: true, run: run });\n  };\n\n\n\n  const expandedRowRender = (record) => {\n    if (!record.results_summary) {\n      return <Text type=\"secondary\">No detailed summary available for this run.</Text>;\n    }\n    return <DiscoveryStatsBreakdown summary={record.results_summary} runId={record.id} />;\n  };\n\n  const columns = [\n    {\n      title: 'Start Time',\n      dataIndex: 'start_time',\n      key: 'start_time',\n      render: (text) => text ? `${formatDistanceToNow(new Date(text))} ago` : 'N/A',\n      sorter: (a, b) => new Date(a.start_time) - new Date(b.start_time),\n      defaultSortOrder: 'descend',\n    },\n    {\n      title: 'Status',\n      dataIndex: 'status',\n      key: 'status',\n      render: (status, record) => {\n        const config = STATUS_CONFIG[status] || STATUS_CONFIG.pending;\n        const progress = record.results_summary?.progress || (status === 'running' ? record.progress || 0 : 0);\n        const stepMessage = record.results_summary?.step || (status === 'running' ? 'Initializing...' : null);\n\n        return (\n          <div style={{ display: 'flex', alignItems: 'center', flexDirection: 'column', gap: '4px' }}>\n            <Tag icon={config.icon} color={config.color} onClick={() => status === 'failed' && handleShowError(record.error_message)} style={{ cursor: status === 'failed' ? 'pointer' : 'default' }}>\n              {config.text}\n            </Tag>\n            {status === 'running' && (\n              <>\n                <Text type=\"secondary\" style={{ fontSize: '12px', fontStyle: 'italic' }}>{stepMessage}</Text>\n                <Progress percent={progress} size=\"small\" status=\"active\" showInfo={false} style={{ width: 100, margin: 0 }} />\n              </>\n            )}\n          </div>\n        );\n      },\n      sorter: (a, b) => a.status.localeCompare(b.status),\n    },\n    {\n      title: 'Seed Keywords',\n      dataIndex: 'parameters',\n      key: 'seed_keywords',\n      responsive: ['md'],\n      render: (params) => {\n        const keywords = params?.seed_keywords || [];\n        if (keywords.length === 0) return <Text type=\"secondary\">N/A</Text>;\n        const displayedKeywords = keywords.slice(0, 3);\n        const remainingCount = keywords.length - displayedKeywords.length;\n        return (\n          <>\n            {displayedKeywords.map(kw => <Tag key={kw}>{kw}</Tag>)}\n            {remainingCount > 0 && <Tooltip title={keywords.slice(3).join(', ')}><Tag>+{remainingCount} more</Tag></Tooltip>}\n          </>\n        );\n      },\n    },\n    {\n      title: 'New Keywords',\n      dataIndex: 'results_summary',\n      key: 'new_keywords',\n      responsive: ['lg'],\n      render: (summary) => summary ? <Tag color=\"blue\">{summary.final_added_to_db || 0}</Tag> : 'N/A',\n    },\n    {\n      title: 'Qualified',\n      dataIndex: 'results_summary',\n      key: 'qualified',\n      responsive: ['lg'],\n      render: (summary) => summary ? <Tag color=\"green\">{summary.final_qualified_count || 0}</Tag> : 'N/A',\n    },\n    {\n      title: 'Disqualified',\n      dataIndex: 'results_summary',\n      key: 'disqualified',\n      responsive: ['lg'],\n      render: (summary) => summary ? <Tag color=\"red\">{summary.disqualified_count || 0}</Tag> : 'N/A',\n    },\n    {\n      title: 'Cost',\n      dataIndex: 'results_summary',\n      key: 'cost',\n      responsive: ['lg'],\n      render: (summary) => summary ? `$${(summary.total_cost || 0).toFixed(2)}` : 'N/A',\n    },\n    {\n      title: 'Actions',\n      key: 'actions',\n      align: 'right',\n      fixed: 'right',\n      render: (_, record) => (\n        <div style={{ display: 'flex', gap: '8px', justifyContent: 'flex-end' }}>\n          {record.status === 'completed' && (\n            <>\n              <Tooltip title=\"View Run Details\">\n                <Button type=\"default\" icon={<EyeOutlined />} onClick={() => handleShowDetails(record)} />\n              </Tooltip>\n              <Tooltip title=\"View Keywords\">\n                <Button type=\"primary\" icon={<ProfileOutlined />} onClick={() => navigate(`/discovery-run/${record.id}`)} />\n              </Tooltip>\n            </>\n          )}\n        </div>\n      ),\n    },\n  ];\n\n  return (\n    <div style={{ marginTop: '32px' }}>\n        <Row justify=\"space-between\" align=\"middle\" style={{ marginBottom: '16px' }} gutter={[16, 16]}>\n            <Col><Title level={3} style={{margin: 0}}>Discovery History</Title></Col>\n            <Col flex=\"auto\" style={{textAlign: 'right'}}>\n              <Search \n                placeholder=\"Filter by keyword or status...\" \n                allowClear \n                value={searchQuery} \n                onChange={e => setSearchQuery(e.target.value)} \n                style={{ width: 250, marginRight: '8px' }} \n              />\n              <RangePicker onChange={(dates) => {\n                const dateStrings = dates ? [dates[0].toISOString(), dates[1].toISOString()] : null;\n                setDateRange(dateStrings);\n              }} />\n            </Col>\n        </Row>\n      <Table\n        loading={isLoading}\n        columns={columns}\n        dataSource={runs}\n        rowKey=\"id\"\n        scroll={{ x: 800 }}\n        locale={{ emptyText: <Empty description=\"No discovery runs found. Start one above to see your history.\" /> }}\n        pagination={{\n          current: page,\n          pageSize: 10,\n          total: totalRuns,\n          onChange: setPage,\n        }}\n        expandable={{ expandedRowRender }} // NEW: Enable expandable rows\n      />\n      <Modal title=\"Run Failed\" open={errorModal.open} onOk={() => setErrorModal({ open: false, content: '' })} onCancel={() => setErrorModal({ open: false, content: '' })} footer={[<Button key=\"back\" onClick={() => setErrorModal({ open: false, content: '' })}>Close</Button>]}>\n<Text strong>Error Message:</Text>\n<pre style={{ marginTop: '8px', background: '#f5f5f5', padding: '12px', borderRadius: '4px', overflowX: 'auto', whiteSpace: 'pre-wrap', wordBreak: 'break-word' }}>{errorModal.content}</pre>\n</Modal>\n      \n      <RunDetailsModal \n        run={detailsModal.run}\n        open={detailsModal.open}\n        onCancel={() => setDetailsModal({ open: false, run: null })}\n      />\n    </div>\n  );\n};\n\nexport default DiscoveryHistory;\n",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/DiscoveryPage/components/DiscoveryStatsBreakdown.jsx",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'Title' is assigned a value but never used.",
                    "line": 7,
                    "column": 9,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 7,
                    "endColumn": 14
                },
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'Text' is assigned a value but never used.",
                    "line": 7,
                    "column": 16,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 7,
                    "endColumn": 20
                }
            ],
            "suppressedMessages": [],
            "errorCount": 2,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "import React, { useState } from 'react';\nimport { Row, Col, Typography, Empty, Modal, Table } from 'antd';\nimport PieChartCard from './PieChartCard';\nimport FunnelChart from './FunnelChart'; // NEW: From Task 35\nimport { getDisqualifiedKeywords } from '../../../services/discoveryService';\n\nconst { Title, Text } = Typography;\n\nconst DiscoveryStatsBreakdown = ({ summary, runId }) => {\n  const [modalVisible, setModalVisible] = useState(false);\n  const [modalTitle, setModalTitle] = useState('');\n  const [modalData, setModalData] = useState([]);\n  const [modalLoading, setModalLoading] = useState(false);\n\n  if (!summary) {\n    return <Empty description=\"No summary data available for this run.\" />;\n  }\n\n  const handleReasonClick = async (reason) => {\n    setModalTitle(`Disqualified Keywords: ${reason}`);\n    setModalVisible(true);\n    setModalLoading(true);\n    try {\n      const data = await getDisqualifiedKeywords(runId, reason);\n      setModalData(data);\n    } catch (error) {\n      console.error('Failed to fetch disqualified keywords:', error);\n    } finally {\n      setModalLoading(false);\n    }\n  };\n\n  // Destructure with defaults to prevent errors if fields are missing\n  const {\n    source_counts = {},\n    disqualification_reasons = {},\n    total_raw_count = 0,\n    total_unique_count = 0,\n    disqualified_count = 0,\n    final_added_to_db = 0,\n    final_qualified_count = 0\n  } = summary;\n\n  const modalColumns = [\n    {\n      title: 'Keyword',\n      dataIndex: 'keyword',\n      key: 'keyword',\n    },\n    {\n      title: 'Search Volume',\n      dataIndex: ['keyword_info', 'search_volume'],\n      key: 'search_volume',\n    },\n  ];\n\n  return (\n    <div style={{ padding: '16px', backgroundColor: '#fafafa' }}>\n      <Row gutter={[32, 32]}>\n        {/* Section 1: Keyword Sources */}\n        <Col xs={24} md={12} lg={8}>\n          <PieChartCard title=\"Keyword Sources\" data={source_counts} />\n        </Col>\n\n        {/* Section 2: Processing Funnel (Visualized) */}\n        <Col xs={24} lg={16}>\n            <FunnelChart \n                totalRaw={total_raw_count}\n                unique={total_unique_count}\n                qualified={final_qualified_count}\n                disqualified={disqualified_count}\n                addedToDB={final_added_to_db}\n            />\n        </Col>\n\n        {/* Section 3: Disqualification Reasons */}\n        <Col xs={24} md={12} lg={8}>\n          <PieChartCard title=\"Disqualification Reasons\" data={disqualification_reasons} onSliceClick={handleReasonClick} />\n        </Col>\n      </Row>\n      <Modal\n        title={modalTitle}\n        open={modalVisible}\n        onCancel={() => setModalVisible(false)}\n        footer={null}\n        width={800}\n      >\n        <Table\n          loading={modalLoading}\n          dataSource={modalData}\n          columns={modalColumns}\n          rowKey=\"id\"\n          pagination={{ pageSize: 10 }}\n        />\n      </Modal>\n    </div>\n  );\n};\n\nexport default DiscoveryStatsBreakdown;\n",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/DiscoveryPage/components/FilterBuilder.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/DiscoveryPage/components/FunnelChart.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/DiscoveryPage/components/PieChartCard.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/DiscoveryPage/components/RunDetailsModal.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/DiscoveryPage/components/RunDetailsPage.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/DiscoveryPage/hooks/useDiscoveryFilters.js",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/DiscoveryPage/hooks/useDiscoveryRuns.js",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'useEffect' is defined but never used.",
                    "line": 1,
                    "column": 20,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 1,
                    "endColumn": 29
                },
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'getJobStatus' is defined but never used.",
                    "line": 7,
                    "column": 3,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 7,
                    "endColumn": 15
                }
            ],
            "suppressedMessages": [],
            "errorCount": 2,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "import { useState, useEffect } from 'react';\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\nimport {\n  getDiscoveryRuns,\n  startDiscoveryRun,\n  rerunDiscoveryRun,\n  getJobStatus,\n} from '../../../services/discoveryService';\nimport { useClient } from '../../../hooks/useClient';\nimport { useNotifications } from '../../../context/NotificationContext';\n\nexport const useDiscoveryRuns = (searchQuery, dateRange) => { // Accept filters\n  const queryClient = useQueryClient();\n  const { clientId } = useClient();\n  const { showNotification } = useNotifications();\n  const [page, setPage] = useState(1);\n\n  // Query to fetch discovery run history\n  const {\n    data,\n    isLoading,\n    isError,\n    error,\n  } = useQuery(\n    // Add filters to the query key to trigger re-fetching on change\n    ['discoveryRuns', clientId, page, searchQuery, dateRange],\n    () => getDiscoveryRuns(clientId, page, { searchQuery, dateRange }), // Pass filters to API call\n    {\n      enabled: !!clientId,\n      keepPreviousData: true,\n      refetchInterval: (data) => {\n        const isAnyJobRunning = data?.items?.some(run => run.status === 'running' || run.status === 'pending');\n        return isAnyJobRunning ? 8000 : false;\n      },\n    }\n  );\n\n  // Mutation for starting a new discovery run\n  const startRunMutation = useMutation(startDiscoveryRun, {\n    // Optimistic update logic\n    onMutate: async (newRunRequest) => {\n      await queryClient.cancelQueries(['discoveryRuns', clientId]); // Cancel any outgoing refetches\n\n      const previousRuns = queryClient.getQueryData(['discoveryRuns', clientId, page]); // Snapshot previous state\n\n      // Optimistically add a temporary 'running' job to the cache\n      queryClient.setQueryData(['discoveryRuns', clientId, 1], (old) => ({\n        ...old,\n        items: [\n          {\n            id: `temp-${Date.now()}`, // Temporary ID for optimistic update\n            start_time: new Date().toISOString(),\n            status: 'running',\n            parameters: { seed_keywords: newRunRequest.runData.seed_keywords },\n            results_summary: { progress: 0 }, // Initial progress\n            error_message: null,\n          },\n          ...(old?.items || []),\n        ]\n      }));\n      setPage(1); // Go to the first page to see the new run\n\n      return { previousRuns }; // Return context for rollback\n    },\n    onError: (err, newRun, context) => {\n      queryClient.setQueryData(['discoveryRuns', clientId, page], context.previousRuns); // Rollback on error\n      showNotification('error', 'Failed to start discovery run', err.message);\n    },\n    onSuccess: (data) => {\n       showNotification('success', 'Discovery run started successfully!', `Job ID: ${data.job_id}`);\n    },\n    onSettled: () => {\n      queryClient.invalidateQueries(['discoveryRuns', clientId]); // Refetch to get actual server state\n    },\n  });\n  \n  // Mutation for re-running an existing discovery job\n  const rerunMutation = useMutation(rerunDiscoveryRun, {\n    onSuccess: (data) => {\n      showNotification('success', 'Re-run started successfully!', `Job ID: ${data.job_id}`);\n      queryClient.invalidateQueries(['discoveryRuns', clientId]); // Refetch history to show new job\n    },\n    onError: (err) => {\n      showNotification('error', 'Failed to start re-run', err.message);\n    },\n  });\n\n  return {\n    runs: data?.items || [],\n    totalRuns: data?.total_items || 0,\n    page,\n    setPage,\n    isLoading,\n    isError,\n    error,\n    startRunMutation,\n    rerunMutation,\n  };\n};\n",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/NotFoundPage/NotFoundPage.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/OpportunitiesPage/OpportunitiesPage.jsx",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'opportunityKeyword' is defined but never used.",
                    "line": 47,
                    "column": 33,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 47,
                    "endColumn": 51
                }
            ],
            "suppressedMessages": [],
            "errorCount": 1,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "import React, { useState } from 'react';\nimport { Layout, Typography, Table, Tag, Button, Space, Tooltip, Modal, Card, Tabs, Input } from 'antd';\nimport { RocketOutlined, EditOutlined, DeleteOutlined, ExclamationCircleOutlined, SearchOutlined } from '@ant-design/icons';\nimport { useOpportunities } from './hooks/useOpportunities';\nimport { useNotifications } from '../../context/NotificationContext';\nimport { useMutation, useQueryClient } from 'react-query';\nimport { startFullWorkflow, rejectOpportunity } from '../../services/orchestratorService';\nimport JobStatusIndicator from '../../components/JobStatusIndicator';\nimport { useJobs } from '../../context/JobContext';\nimport { useNavigate } from 'react-router-dom';\nimport { formatNumber, formatCurrency } from '../../utils/formatters';\nimport './OpportunitiesPage.css';\n\nconst { Content } = Layout;\nconst { Title, Text } = Typography;\nconst { confirm } = Modal;\nconst { TabPane } = Tabs;\n\nconst MAIN_STATUSES = [\n  'review', \n  'paused_for_approval', \n  'generated', \n  'rejected', \n  'failed'\n];\n\nconst statusColors = {\n  review: 'blue',\n  paused_for_approval: 'orange',\n  generated: 'green',\n  rejected: 'default',\n  failed: 'red',\n};\n\nconst OpportunitiesPage = () => {\n  const { \n    opportunities, isLoading, pagination, \n    handleTableChange, activeStatus, setActiveStatus, statusCounts = {}, handleSearch\n  } = useOpportunities();\n  const { showNotification } = useNotifications();\n  const queryClient = useQueryClient();\n  const navigate = useNavigate();\n  const { activeJobs } = useJobs();\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n\n  const { mutate: startWorkflowMutation, isLoading: isStartingWorkflow } = useMutation(\n    ({ opportunityId, override, opportunityKeyword }) => startFullWorkflow(opportunityId, override),\n    {\n      onSuccess: (data, variables) => {\n            const { opportunityKeyword } = variables;\n            showNotification('success', 'Workflow Started', `A new workflow has been queued for \"${opportunityKeyword}\".`);\n            queryClient.invalidateQueries('opportunities');\n            queryClient.invalidateQueries('activeJobs');\n          },\n      onError: (err, variables) => {\n        const { opportunityKeyword } = variables;\n        showNotification('error', `Workflow Failed for \"${opportunityKeyword}\"`, err.message)\n      },\n    }\n  );\n\n  const { mutate: rejectOpportunityMutation, isLoading: isRejecting } = useMutation(\n    (opportunityId) => rejectOpportunity(opportunityId),\n    {\n      onSuccess: () => {\n        showNotification('success', 'Opportunity Rejected', 'The opportunity has been marked as rejected.');\n        queryClient.invalidateQueries('opportunities');\n        queryClient.invalidateQueries('dashboardStats');\n      },\n      onError: (err) => showNotification('error', 'Rejection Failed', err.message),\n    }\n  );\n\n  const { mutate: bulkRejectMutation, isLoading: isBulkRejecting } = useMutation(\n    (ids) => Promise.all(ids.map(id => rejectOpportunity(id))), // Assuming rejectOpportunity takes one ID\n    {\n      onSuccess: () => {\n        showNotification('success', 'Bulk Action', `${selectedRowKeys.length} opportunities have been rejected.`);\n        setSelectedRowKeys([]);\n        queryClient.invalidateQueries('opportunities');\n        queryClient.invalidateQueries('dashboardStats');\n      },\n      onError: (err) => showNotification('error', 'Bulk Rejection Failed', err.message),\n    }\n  );\n\n  const handleBulkReject = () => {\n    confirm({\n      title: `Are you sure you want to reject these ${selectedRowKeys.length} opportunities?`,\n      icon: <ExclamationCircleOutlined />,\n      content: 'This action cannot be undone.',\n      okText: 'Yes, Reject All',\n      okType: 'danger',\n      cancelText: 'No',\n      onOk() {\n        bulkRejectMutation(selectedRowKeys);\n      },\n    });\n  };\n\n  const showRejectConfirm = (opportunityId) => {\n    confirm({\n      title: 'Are you sure you want to reject this opportunity?',\n      icon: <ExclamationCircleOutlined />,\n      content: 'This action cannot be undone.',\n      okText: 'Yes, Reject',\n      okType: 'danger',\n      cancelText: 'No',\n      onOk() {\n        rejectOpportunityMutation(opportunityId);\n      },\n    });\n  };\n\n      const renderActions = (_, record) => {\n        const isLoading = isStartingWorkflow || isRejecting || isBulkRejecting;\n    \n        const buttons = [];\n    \n        switch (record.status) { // Changed to check record.status\n          case 'review':\n          case 'validated': // Can start workflow from validated too\n            buttons.push(\n              <Tooltip title=\"Start Full Workflow\" key=\"run\">\n                <Button\n                  type=\"primary\"\n                  aria-label=\"Start Full Workflow\"\n                  icon={<RocketOutlined />}\n                  onClick={(e) => { \n                    e.stopPropagation(); \n                    startWorkflowMutation({ opportunityId: record.id, override: false, opportunityKeyword: record.keyword }); \n                  }}\n                  loading={isStartingWorkflow}\n                  disabled={isLoading}\n                />\n              </Tooltip>,\n              <Tooltip title=\"Reject Opportunity\" key=\"reject\">\n                <Button\n                  danger\n                  aria-label=\"Reject Opportunity\"\n                  icon={<DeleteOutlined />}\n                  onClick={(e) => { e.stopPropagation(); showRejectConfirm(record.id); }}\n                  loading={isRejecting}\n                  disabled={isLoading}\n                />\n              </Tooltip>\n            );\n            break;\n          case 'rejected':\n          case 'failed':\n            buttons.push(\n              <Tooltip title=\"Rerun Workflow\" key=\"run-failed\">\n                <Button\n                  type=\"primary\"\n                  aria-label=\"Rerun Workflow\"\n                  icon={<RocketOutlined />}\n                  onClick={(e) => { e.stopPropagation(); startWorkflowMutation({ opportunityId: record.id, override: true, opportunityKeyword: record.keyword }); }}\n                  loading={isStartingWorkflow}\n                  disabled={isLoading}\n                />\n              </Tooltip>\n            );\n            break;\n          default:\n            break;\n        }\n    \n        buttons.push(\n          <Tooltip title=\"View Details\" key=\"view\">\n            <Button \n              aria-label=\"View Details\"\n              icon={<EditOutlined />} \n              onClick={(e) => { e.stopPropagation(); navigate(`/opportunities/${record.id}`)}} \n            />\n          </Tooltip>\n        );\n    \n        return <Space>{buttons}</Space>;\n      };\n    \n      const columns = [\n        { title: 'Keyword', dataIndex: 'keyword', key: 'keyword', sorter: true, render: (text, record) => <a onClick={(e) => { e.stopPropagation(); navigate(`/opportunities/${record.id}`)}}>{text}</a> },\n        { title: 'Search Volume', dataIndex: 'search_volume', key: 'search_volume', sorter: true, render: (sv) => formatNumber(sv) },\n        { title: 'KD', dataIndex: 'keyword_difficulty', key: 'keyword_difficulty', sorter: true, render: (kd) => kd != null ? kd : 'N/A' },\n        { \n          title: 'Intent', \n          dataIndex: 'main_intent', \n          key: 'main_intent', \n          render: (intent) => intent ? <Tag>{intent.toUpperCase()}</Tag> : 'N/A',\n          hidden: activeStatus === 'rejected',\n        },\n        { \n          title: 'Strategic Score', \n          dataIndex: 'strategic_score', \n          key: 'strategic_score', \n          sorter: true, \n          render: (score) => score ? <strong>{score.toFixed(1)}</strong> : 'N/A',\n          hidden: activeStatus === 'rejected',\n        },\n        { title: 'CPC', dataIndex: 'cpc', key: 'cpc', sorter: true, render: (cpc) => formatCurrency(cpc) },\n        { \n          title: 'Rejection Reason', \n          dataIndex: 'blog_qualification_reason', \n          key: 'blog_qualification_reason',\n          render: (reason) => reason || <Text type=\"secondary\">No reason provided</Text>,\n          hidden: activeStatus !== 'rejected',\n        },\n        {\n          title: 'Actions',\n          key: 'actions',\n          fixed: 'right',\n          width: 120,\n          render: (_, record) => {\n            const activeJob = activeJobs.find(job => job.id === record.latest_job_id);\n            \n            if (activeJob) {\n              return <JobStatusIndicator jobId={activeJob.id} />;\n            }\n            \n            return renderActions(_, record);\n          }\n        },\n      ].filter(col => !col.hidden);\n\n  return (\n    <Layout style={{ padding: '24px' }}><Content>\n      <Title level={2}>Content Opportunities</Title>\n      <Input\n        placeholder=\"Search keywords...\"\n        prefix={<SearchOutlined />}\n        allowClear\n        onChange={(e) => handleSearch(e.target.value)}\n        style={{ width: 300, marginBottom: 16 }}\n      />\n      <Space style={{ marginBottom: 16 }}>\n          <Button\n            danger\n            onClick={handleBulkReject}\n            disabled={selectedRowKeys.length === 0}\n            loading={isBulkRejecting}\n            icon={<DeleteOutlined />}\n          >\n            Reject Selected ({selectedRowKeys.length})\n          </Button>\n      </Space>\n      <Card>\n        <div className=\"custom-tabs\">\n          <Tabs activeKey={activeStatus} onChange={setActiveStatus}>\n            {MAIN_STATUSES.map(status => (\n              <TabPane \n                tab={\n                  <span>\n                    {status.replace(/_/g, ' ').toUpperCase()}\n                    <Tag color={statusColors[status]} style={{ marginLeft: 8 }}>\n                      {statusCounts[status] || 0}\n                    </Tag>\n                  </span>\n                }\n                key={status} \n              />\n            ))}\n          </Tabs>\n        </div>\n        <Table\n          columns={columns}\n          dataSource={opportunities}\n          rowKey=\"id\"\n          loading={isLoading}\n          pagination={pagination}\n          onChange={handleTableChange}\n          rowSelection={{\n            selectedRowKeys,\n            onChange: setSelectedRowKeys,\n          }}\n          onRow={(record) => ({\n            // The click is now handled exclusively by the `<a>` tag on the keyword.\n            style: { \n              opacity: isBulkRejecting && selectedRowKeys.includes(record.id) ? 0.5 : 1,\n              transition: 'opacity 0.2s',\n            },\n          })}\n          rowClassName=\"table-row-hover\"\n        />\n      </Card>\n    </Content></Layout>\n  );\n};\n\nexport default OpportunitiesPage;\n",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/OpportunitiesPage/components/ScoreBreakdownModal.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/OpportunitiesPage/hooks/useOpportunities.js",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/OpportunitiesPage/hooks/useOpportunities.test.js",
            "messages": [
                {
                    "ruleId": "no-undef",
                    "severity": 2,
                    "message": "'jest' is not defined.",
                    "line": 6,
                    "column": 1,
                    "nodeType": "Identifier",
                    "messageId": "undef",
                    "endLine": 6,
                    "endColumn": 5
                },
                {
                    "ruleId": "react/display-name",
                    "severity": 2,
                    "message": "Component definition is missing display name",
                    "line": 11,
                    "column": 10,
                    "nodeType": "ArrowFunctionExpression",
                    "messageId": "noDisplayName",
                    "endLine": 13,
                    "endColumn": 4
                },
                {
                    "ruleId": "react/react-in-jsx-scope",
                    "severity": 2,
                    "message": "'React' must be in scope when using JSX",
                    "line": 12,
                    "column": 5,
                    "nodeType": "JSXOpeningElement",
                    "messageId": "notInScope",
                    "endLine": 12,
                    "endColumn": 47
                },
                {
                    "ruleId": "no-undef",
                    "severity": 2,
                    "message": "'test' is not defined.",
                    "line": 16,
                    "column": 1,
                    "nodeType": "Identifier",
                    "messageId": "undef",
                    "endLine": 16,
                    "endColumn": 5
                },
                {
                    "ruleId": "no-undef",
                    "severity": 2,
                    "message": "'expect' is not defined.",
                    "line": 26,
                    "column": 3,
                    "nodeType": "Identifier",
                    "messageId": "undef",
                    "endLine": 26,
                    "endColumn": 9
                },
                {
                    "ruleId": "no-undef",
                    "severity": 2,
                    "message": "'expect' is not defined.",
                    "line": 26,
                    "column": 49,
                    "nodeType": "Identifier",
                    "messageId": "undef",
                    "endLine": 26,
                    "endColumn": 55
                },
                {
                    "ruleId": "no-undef",
                    "severity": 2,
                    "message": "'expect' is not defined.",
                    "line": 26,
                    "column": 69,
                    "nodeType": "Identifier",
                    "messageId": "undef",
                    "endLine": 26,
                    "endColumn": 75
                }
            ],
            "suppressedMessages": [],
            "errorCount": 7,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "import { renderHook, act } from '@testing-library/react-hooks';\nimport { useOpportunities } from './useOpportunities';\nimport { QueryClient, QueryClientProvider } from 'react-query';\n\n// Mock dependencies\njest.mock('../services/opportunitiesService');\nimport { getOpportunities } from '../services/opportunitiesService';\n\nconst createWrapper = () => {\n  const queryClient = new QueryClient();\n  return ({ children }) => (\n    <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>\n  );\n};\n\ntest('should update keyword state on handleSearch', async () => {\n  getOpportunities.mockResolvedValue({ items: [], total_items: 0 });\n  const { result } = renderHook(() => useOpportunities(), { wrapper: createWrapper() });\n\n  await act(async () => {\n    result.current.handleSearch('test keyword');\n  });\n\n  // Assert that the hook's internal state for the keyword was updated\n  // Accessing internal state is complex; this test verifies the search term is passed to the API\n  expect(getOpportunities).toHaveBeenCalledWith(expect.any(String), expect.objectContaining({\n    keyword: 'test keyword'\n  }));\n});\n",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/RunDetailsPage/RunDetailsPage.jsx",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'Progress' is defined but never used.",
                    "line": 4,
                    "column": 43,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 4,
                    "endColumn": 51
                }
            ],
            "suppressedMessages": [],
            "errorCount": 1,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "import React from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { useQuery } from 'react-query';\nimport { Layout, Spin, Alert, Typography, Progress, Card, Descriptions, Tag, Button } from 'antd';\nimport { ArrowLeftOutlined } from '@ant-design/icons';\nimport { getDiscoveryRunById, getKeywordsForRun } from '../../services/discoveryService';\nimport OpportunityTable from '../../components/OpportunityTable';\n\nconst { Content } = Layout;\nconst { Title } = Typography;\n\nconst RunDetailsPage = () => {\n  const { runId } = useParams();\n\n  const { data: run, isLoading: isLoadingRun, isError, error } = useQuery(\n    ['discoveryRun', runId],\n    () => getDiscoveryRunById(runId),\n    {\n      refetchInterval: (data) => data?.status === 'running' ? 5000 : false,\n      refetchOnWindowFocus: false,\n    }\n  );\n\n  const { data: opportunities, isLoading: isLoadingOpportunities } = useQuery(\n    ['discoveryRunOpportunities', runId],\n    () => getKeywordsForRun(runId),\n    {\n      enabled: !!run && run.status === 'completed',\n    }\n  );\n\n  if (isLoadingRun) {\n    return <Spin tip=\"Loading run details...\" style={{ display: 'block', marginTop: '50px' }} />;\n  }\n\n  if (isError) {\n    return <Alert message=\"Error\" description={error.message} type=\"error\" showIcon />;\n  }\n\n  const getStatusTag = (status) => {\n    switch (status) {\n      case 'completed': return <Tag color=\"success\">Completed</Tag>;\n      case 'failed': return <Tag color=\"error\">Failed</Tag>;\n      case 'running': return <Tag color=\"processing\">In Progress</Tag>;\n      default: return <Tag>{status}</Tag>;\n    }\n  };\n\n  return (\n    <Layout style={{ padding: '24px' }}>\n      <Content>\n        <Button type=\"link\" icon={<ArrowLeftOutlined />} style={{ marginBottom: '16px', paddingLeft: 0 }}>\n          <Link to=\"/discovery\">Back to Discovery Hub</Link>\n        </Button>\n        <Title level={2}>Discovery Run Details</Title>\n        <Card style={{ marginBottom: '24px' }}>\n          <Descriptions title=\"Run Summary\" bordered>\n            <Descriptions.Item label=\"Run ID\">{run.id}</Descriptions.Item>\n            <Descriptions.Item label=\"Status\">{getStatusTag(run.status)}</Descriptions.Item>\n            <Descriptions.Item label=\"Seed Keyword\">{run.parameters?.seed_keywords?.join(', ')}</Descriptions.Item>\n            <Descriptions.Item label=\"Created At\">{new Date(run.start_time).toLocaleString()}</Descriptions.Item>\n          </Descriptions>\n        </Card>\n\n        {run.status === 'completed' && (\n          <Card title=\"Discovered Opportunities\">\n            <OpportunityTable opportunities={opportunities} isLoading={isLoadingOpportunities} />\n          </Card>\n        )}\n\n        {run.status === 'failed' && (\n          <Alert message=\"Run Failed\" description={run.error_message || 'An unknown error occurred.'} type=\"error\" showIcon />\n        )}\n      </Content>\n    </Layout>\n  );\n};\n\nexport default RunDetailsPage;\n",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/Settings/SettingsPage.jsx",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'useEffect' is defined but never used.",
                    "line": 2,
                    "column": 27,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 2,
                    "endColumn": 36
                },
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'Text' is assigned a value but never used.",
                    "line": 14,
                    "column": 16,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 14,
                    "endColumn": 20
                },
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'settings' is defined but never used.",
                    "line": 17,
                    "column": 31,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 17,
                    "endColumn": 39
                },
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'form' is defined but never used.",
                    "line": 17,
                    "column": 41,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 17,
                    "endColumn": 45
                },
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'refetch' is assigned a value but never used.",
                    "line": 27,
                    "column": 61,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 27,
                    "endColumn": 68
                }
            ],
            "suppressedMessages": [],
            "errorCount": 5,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "// This is a new file. Create it with the following content:\nimport React, { useState, useEffect } from 'react';\nimport { Layout, Typography, Tabs, Spin, Alert, Button, Space, Form } from 'antd';\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\nimport { getClientSettings, updateClientSettings } from '../../services/clientSettingsService'; // Corrected\nimport { useClient } from '../../hooks/useClient'; // NEW\nimport { useNotifications } from '../../context/NotificationContext'; // NEW\nimport { SaveOutlined, ReloadOutlined } from '@ant-design/icons';\nimport DiscoverySettingsTab from './tabs/DiscoverySettingsTab'; // NEW\nimport ScoringWeightsTab from './tabs/ScoringWeightsTab'; // NEW\nimport AiContentSettingsTab from './tabs/AiContentSettingsTab'; // NEW\n\nconst { Content } = Layout;\nconst { Title, Text } = Typography;\n\n// Placeholder tab components\nconst ApiKeysSettingsTab = ({ settings, form }) => <Alert message=\"API Keys\" description=\"API key management will go here.\" type=\"info\" />; // NEW for task 3.3.1 (API Key Management)\n\nconst SettingsPage = () => {\n  console.log('Rendering SettingsPage');\n  const { clientId } = useClient();\n  const { showNotification } = useNotifications();\n  const queryClient = useQueryClient();\n  const [form] = Form.useForm();\n  const [isDirty, setIsDirty] = useState(false); // To track if form has unsaved changes\n\n  const { data: currentSettings, isLoading, isError, error, refetch } = useQuery(\n    ['clientSettings', clientId],\n    () => getClientSettings(clientId),\n    {\n      enabled: !!clientId,\n      onSuccess: (data) => {\n        form.setFieldsValue(data); // Populate form with fetched settings\n        setIsDirty(false); // Reset dirty state on successful fetch/load\n      },\n      onError: (err) => {\n        showNotification('error', 'Failed to Load Settings', err.message || 'An error occurred while loading settings.');\n      },\n      staleTime: 5 * 60 * 1000, // Consider settings stale after 5 minutes\n    }\n  );\n\n  const { mutate: saveSettingsMutation, isLoading: isSavingSettings } = useMutation(\n    (updatedSettings) => updateClientSettings(clientId, updatedSettings),\n    {\n      onSuccess: () => {\n        showNotification('success', 'Settings Saved', 'Client settings updated successfully.');\n        setIsDirty(false); // Mark as clean after saving\n        queryClient.invalidateQueries(['clientSettings', clientId]); // Invalidate to ensure fresh data if re-fetched elsewhere\n      },\n      onError: (err) => {\n        showNotification('error', 'Save Failed', err.message || 'An error occurred while saving settings.');\n      },\n    }\n  );\n\n  const handleFormChange = () => {\n    setIsDirty(true); // Mark form as dirty on any change\n  };\n\n  const handleSave = () => {\n    form.validateFields()\n      .then(values => {\n        saveSettingsMutation(values);\n      })\n      .catch(info => {\n        showNotification('error', 'Validation Error', 'Please correct the highlighted fields.');\n        console.log('Validate Failed:', info);\n      });\n  };\n\n  const handleResetToCurrent = () => {\n    if (currentSettings) {\n      form.setFieldsValue(currentSettings);\n      setIsDirty(false);\n      showNotification('info', 'Reset', 'Form reset to current saved settings.');\n    }\n  };\n\n  if (isLoading) {\n    return <Spin tip=\"Loading settings...\" style={{ display: 'block', marginTop: '50px' }} />;\n  }\n\n  if (isError) {\n    return <Alert message=\"Error\" description={error?.message || \"Failed to load settings.\"} type=\"error\" showIcon />;\n  }\n\n  const tabItems = [\n    {\n      label: 'Discovery & Filtering',\n      key: 'discovery',\n      children: <DiscoverySettingsTab settings={currentSettings} form={form} />,\n    },\n    {\n      label: 'Scoring & Weights',\n      key: 'scoring',\n      children: <ScoringWeightsTab settings={currentSettings} form={form} />,\n    },\n    {\n      label: 'AI & Content Generation',\n      key: 'ai-content',\n      children: <AiContentSettingsTab settings={currentSettings} form={form} />,\n    },\n    {\n      label: 'API Keys', // NEW tab\n      key: 'api-keys',\n      children: <ApiKeysSettingsTab settings={currentSettings} form={form} />,\n    }\n  ];\n\n  return (\n    <Layout style={{ padding: '24px' }}>\n      <Content>\n        <Title level={2}>Client Settings: {clientId}</Title>\n        <Form\n          form={form}\n          layout=\"vertical\"\n          onValuesChange={handleFormChange}\n          onFinish={handleSave}\n          initialValues={currentSettings} // Set initial values from fetched data\n        >\n          <Tabs defaultActiveKey=\"discovery\" items={tabItems} style={{ marginBottom: '24px' }} />\n\n          <Space>\n            <Button \n              type=\"primary\" \n              htmlType=\"submit\" \n              icon={<SaveOutlined />} \n              loading={isSavingSettings} \n              disabled={!isDirty || isSavingSettings}\n            >\n              Save Changes\n            </Button>\n            <Button \n              icon={<ReloadOutlined />} \n              onClick={handleResetToCurrent} \n              disabled={!isDirty || isSavingSettings}\n            >\n              Reset to Current\n            </Button>\n          </Space>\n        </Form>\n      </Content>\n    </Layout>\n  );\n};\n\nexport default SettingsPage;",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/Settings/tabs/AiContentSettingsTab.jsx",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'Text' is assigned a value but never used.",
                    "line": 7,
                    "column": 16,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 7,
                    "endColumn": 20
                },
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'settings' is defined but never used.",
                    "line": 10,
                    "column": 33,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 10,
                    "endColumn": 41
                }
            ],
            "suppressedMessages": [],
            "errorCount": 2,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "// This is a new file. Create it with the following content:\nimport React from 'react';\nimport { Form, Input, InputNumber, Select, Switch, Slider, Typography, Row, Col, Divider, Tooltip, Alert, Space } from 'antd';\nimport { InfoCircleOutlined } from '@ant-design/icons';\nimport PromptTemplateEditor from '../../../components/PromptTemplateEditor'; // NEW\n\nconst { Title, Text } = Typography;\nconst { Option } = Select;\n\nconst AiContentSettingsTab = ({ settings, form }) => {\n  const contentModel = Form.useWatch('ai_content_model', form); // Watch for changes in the AI content model\n\n  return (\n    <>\n      <Title level={5}>AI Model & Generation</Title>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item name=\"ai_content_model\" label=\"AI Content Generation Model\">\n            <Select style={{ width: '100%' }}>\n              <Option value=\"gpt-4o\">GPT-4o (Recommended)</Option>\n              <Option value=\"gpt-4-turbo\">GPT-4 Turbo</Option>\n              <Option value=\"gpt-3.5-turbo\">GPT-3.5 Turbo (Cost-Effective)</Option>\n            </Select>\n          </Form.Item>\n          {contentModel === 'gpt-3.5-turbo' && (\n            <Alert\n              message=\"Cost-Effective Model Selected\"\n              description=\"GPT-3.5 Turbo is cheaper but may require more prompt engineering for quality.\"\n              type=\"info\"\n              showIcon\n              style={{ marginBottom: '16px' }}\n            />\n          )}\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"ai_generation_temperature\" label=\"AI Creativity (Temperature)\">\n            <Slider min={0.0} max={1.0} step={0.01} />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"expert_persona\" label=\"AI Writer Persona\">\n            <Input placeholder=\"e.g., a certified financial planner with 15 years of experience\" />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"recommended_word_count_multiplier\" label=\"Word Count Multiplier\">\n            <InputNumber min={0.5} max={3.0} step={0.1} style={{ width: '100%' }} />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"max_completion_tokens_for_generation\" label=\"Max Output Tokens\">\n            <InputNumber min={1000} max={32000} step={1000} style={{ width: '100%' }} />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"max_words_for_ai_analysis\" label=\"Max Words for AI Analysis\">\n            <InputNumber min={500} max={5000} step={100} style={{ width: '100%' }} />\n          </Form.Item>\n        </Col>\n      </Row>\n\n      <Divider />\n\n      <Title level={5}>Image Generation</Title>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item name=\"use_pexels_first\" label=\"Use Pexels for Images\" valuePropName=\"checked\">\n            <Switch checkedChildren=\"Enabled\" unCheckedChildren=\"Disabled\" />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"num_in_article_images\" label=\"Number of In-Article Images\">\n            <InputNumber min={0} max={5} style={{ width: '100%' }} />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"overlay_text_enabled\" label=\"Add Text Overlay to Images\" valuePropName=\"checked\">\n            <Switch checkedChildren=\"Enabled\" unCheckedChildren=\"Disabled\" />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"overlay_text_color\" label=\"Overlay Text Color\">\n            <Input type=\"color\" style={{ width: '100%' }} />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"overlay_background_color\" label=\"Overlay Background Color\">\n            <Input type=\"color\" style={{ width: '100%' }} />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"overlay_font_size\" label=\"Overlay Font Size\">\n            <InputNumber min={10} max={60} style={{ width: '100%' }} />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"overlay_position\" label=\"Overlay Position\">\n            <Select style={{ width: '100%' }}>\n              <Option value=\"top_left\">Top Left</Option>\n              <Option value=\"top_center\">Top Center</Option>\n              <Option value=\"top_right\">Top Right</Option>\n              <Option value=\"bottom_left\">Bottom Left</Option>\n              <Option value=\"bottom_center\">Bottom Center</Option>\n              <Option value=\"bottom_right\">Bottom Right</Option>\n              <Option value=\"center\">Center</Option>\n            </Select>\n          </Form.Item>\n        </Col>\n      </Row>\n\n      <Divider />\n\n      <Title level={5}>Custom AI Prompt Template</Title>\n      <Form.Item \n        name=\"custom_prompt_template\" \n        label={\n          <Space>\n            Edit your base prompt for the AI content generator.\n            <Tooltip title=\"This template guides the AI's writing. Use available placeholders for dynamic data.\">\n              <InfoCircleOutlined />\n            </Tooltip>\n          </Space>\n        }\n        style={{ marginBottom: 0 }}\n      >\n        <PromptTemplateEditor disabled={false} />\n      </Form.Item>\n    </>\n  );\n};\n\nexport default AiContentSettingsTab;",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/Settings/tabs/DiscoverySettingsTab.jsx",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'Text' is assigned a value but never used.",
                    "line": 6,
                    "column": 16,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 6,
                    "endColumn": 20
                },
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'settings' is defined but never used.",
                    "line": 9,
                    "column": 33,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 9,
                    "endColumn": 41
                },
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'form' is defined but never used.",
                    "line": 9,
                    "column": 43,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 9,
                    "endColumn": 47
                }
            ],
            "suppressedMessages": [],
            "errorCount": 3,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "// This is a new file. Create it with the following content:\nimport React from 'react';\nimport { Form, Input, InputNumber, Select, Switch, Checkbox, Slider, Typography, Row, Col, Divider, Tooltip, Space } from 'antd';\nimport { InfoCircleOutlined } from '@ant-design/icons';\n\nconst { Title, Text } = Typography;\nconst { Option } = Select;\n\nconst DiscoverySettingsTab = ({ settings, form }) => {\n  return (\n    <>\n      <Title level={5}>General Discovery Parameters</Title>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item name=\"min_search_volume\" label=\"Minimum Search Volume\">\n            <InputNumber min={0} max={100000} step={10} style={{ width: '100%' }} />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"max_keyword_difficulty\" label=\"Maximum Keyword Difficulty\">\n            <InputNumber min={0} max={100} style={{ width: '100%' }} />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"min_keyword_word_count\" label=\"Minimum Keyword Word Count\">\n            <InputNumber min={1} max={20} style={{ width: '100%' }} />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"max_keyword_word_count\" label=\"Maximum Keyword Word Count\">\n            <InputNumber min={1} max={20} style={{ width: '100%' }} />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"discovery_max_pages\" label=\"Max API Pages to Fetch\">\n            <InputNumber min={1} max={100} style={{ width: '100%' }} />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"discovery_related_depth\" label=\"Related Keywords Depth\">\n            <Slider min={0} max={4} />\n          </Form.Item>\n        </Col>\n        <Col span={24}>\n          <Form.Item name=\"discovery_strategies\" label=\"Discovery Strategies\">\n            <Checkbox.Group\n              options={[\n                { label: 'Keyword Ideas (Category-based)', value: 'Keyword Ideas' },\n                { label: 'Keyword Suggestions (Phrase-based)', value: 'Keyword Suggestions' },\n                { label: 'Related Keywords (SERP-based)', value: 'Related Keywords' },\n              ]}\n            />\n          </Form.Item>\n        </Col>\n      </Row>\n\n      <Divider />\n\n      <Title level={5}>Advanced Filtering & Ordering</Title>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item name=\"closely_variants\" label=\"Search Mode (Keyword Ideas)\" valuePropName=\"checked\">\n            <Switch checkedChildren=\"Phrase Match\" unCheckedChildren=\"Broad Match\" />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"discovery_ignore_synonyms\" label=\"Ignore Synonyms\" valuePropName=\"checked\">\n            <Switch />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"discovery_replace_with_core_keyword\" label=\"Replace with Core Keyword\" valuePropName=\"checked\">\n            <Switch />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"min_cpc_filter\" label=\"Minimum CPC ($)\">\n            <InputNumber min={0.0} step={0.1} style={{ width: '100%' }} />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"max_cpc_filter\" label=\"Maximum CPC ($)\">\n            <InputNumber min={0.0} step={0.1} style={{ width: '100%' }} />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"min_competition\" label=\"Minimum Competition (0-1)\">\n            <InputNumber min={0.0} max={1.0} step={0.01} style={{ width: '100%' }} />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"max_competition\" label=\"Maximum Competition (0-1)\">\n            <InputNumber min={0.0} max={1.0} step={0.01} style={{ width: '100%' }} />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"max_competition_level\" label=\"Max Competition Level\">\n            <Select style={{ width: '100%' }}>\n              <Option value=\"LOW\">LOW</Option>\n              <Option value=\"MEDIUM\">MEDIUM</Option>\n              <Option value=\"HIGH\">HIGH</Option>\n            </Select>\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"discovery_order_by_field\" label=\"Order Results By\">\n            <Select style={{ width: '100%' }}>\n              <Option value=\"keyword_info.search_volume\">Search Volume</Option>\n              <Option value=\"keyword_properties.keyword_difficulty\">Keyword Difficulty</Option>\n              <Option value=\"keyword_info.cpc\">CPC</Option>\n              <Option value=\"keyword_info.competition\">Competition</Option>\n            </Select>\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"discovery_order_by_direction\" label=\"Order Direction\">\n            <Select style={{ width: '100%' }}>\n              <Option value=\"desc\">Descending</Option>\n              <Option value=\"asc\">Ascending</Option>\n            </Select>\n          </Form.Item>\n        </Col>\n        <Col span={24}>\n          <Form.Item \n            name=\"search_phrase_regex\" \n            label={\n              <Space>\n                Keyword Regex Filter\n                <Tooltip title=\"Use regular expressions to filter keywords (e.g., ^how to.*$)\">\n                  <InfoCircleOutlined />\n                </Tooltip>\n              </Space>\n            }\n          >\n            <Input placeholder=\"e.g., ^best.*reviews$\" />\n          </Form.Item>\n        </Col>\n      </Row>\n\n      <Divider />\n\n      <Title level={5}>Intent & Qualification</Title>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item name=\"enforce_intent_filter\" label=\"Enforce Intent Filter\" valuePropName=\"checked\">\n            <Switch />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"allowed_intents\" label=\"Allowed Intents\">\n            <Select mode=\"multiple\" style={{ width: '100%' }}>\n              <Option value=\"informational\">Informational</Option>\n              <Option value=\"commercial\">Commercial</Option>\n              <Option value=\"transactional\">Transactional</Option>\n              <Option value=\"navigational\">Navigational</Option>\n            </Select>\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"prohibited_intents\" label=\"Prohibited Secondary Intents\">\n            <Select mode=\"multiple\" style={{ width: '100%' }}>\n              <Option value=\"informational\">Informational</Option>\n              <Option value=\"commercial\">Commercial</Option>\n              <Option value=\"transactional\">Transactional</Option>\n              <Option value=\"navigational\">Navigational</Option>\n            </Select>\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"require_question_keywords\" label=\"Require Question Keywords\" valuePropName=\"checked\">\n            <Switch />\n          </Form.Item>\n        </Col>\n        <Col span={24}>\n          <Form.Item name=\"negative_keywords\" label=\"Negative Keywords\" extra=\"Comma-separated list of keywords to exclude (e.g., free, login)\">\n            <Input.TextArea rows={2} />\n          </Form.Item>\n        </Col>\n      </Row>\n\n      <Divider /><br/>\n      <Title level={5}>SERP & Competitor Analysis Cost Controls</Title><br/>\n      <Row gutter={16}><br/>\n        <Col span={12}><br/>\n          <Form.Item name=\"load_async_ai_overview\" label=\"Load Async AI Overview\" valuePropName=\"checked\" tooltip=\"Set to true to obtain AI Overview items in SERPs even if they are loaded asynchronously. Costs $0.002 extra per SERP call.\"><br/>\n            <Switch checkedChildren=\"Enabled\" unCheckedChildren=\"Disabled\" /><br/>\n          </Form.Item><br/>\n        </Col><br/>\n        <Col span={12}><br/>\n          <Form.Item name=\"people_also_ask_click_depth\" label=\"PAA Click Depth\"><br/>\n            <InputNumber min={0} max={4} style={{ width: '100%' }} tooltip=\"Specify the depth of clicks (1 to 4) on People Also Ask elements. Costs $0.00015 extra per click per level.\" /><br/>\n          </Form.Item><br/>\n        </Col><br/>\n        <Col span={12}><br/>\n          <Form.Item name=\"onpage_enable_browser_rendering\" label=\"Enable Browser Rendering (High Cost)\" valuePropName=\"checked\" tooltip=\"If true, emulates a full browser load for Core Web Vitals (LCP/CLS) and loads JavaScript/Resources automatically. Primary cost factor for Analysis.\"><br/>\n            <Switch checkedChildren=\"Enabled\" unCheckedChildren=\"Disabled\" /><br/>\n          </Form.Item><br/>\n        </Col><br/>\n        <Col span={12}><br/>\n          <Form.Item name=\"onpage_enable_custom_js\" label=\"Enable Custom JavaScript\" valuePropName=\"checked\" tooltip=\"Allows execution of custom JavaScript during OnPage crawl. Costs $0.00025 extra per page analyzed.\"><br/>\n            <Switch checkedChildren=\"Enabled\" unCheckedChildren=\"Disabled\" /><br/>\n          </Form.Item><br/>\n        </Col><br/>\n      </Row><br/><br/>\n    </>\n  );\n};\n\nexport default DiscoverySettingsTab;",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/Settings/tabs/ScoringWeightsTab.jsx",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'Text' is assigned a value but never used.",
                    "line": 6,
                    "column": 16,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 6,
                    "endColumn": 20
                },
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'settings' is defined but never used.",
                    "line": 8,
                    "column": 30,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 8,
                    "endColumn": 38
                }
            ],
            "suppressedMessages": [],
            "errorCount": 2,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "// This is a new file. Create it with the following content:\nimport React from 'react';\nimport { Form, Slider, InputNumber, Typography, Row, Col, Divider, Tooltip, Space, Alert } from 'antd';\nimport { InfoCircleOutlined } from '@ant-design/icons';\n\nconst { Title, Text } = Typography;\n\nconst ScoringWeightsTab = ({ settings, form }) => {\n  const allWeights = Form.useWatch([\n    'ease_of_ranking_weight',\n    'traffic_potential_weight',\n    'commercial_intent_weight',\n    'serp_features_weight',\n    'growth_trend_weight',\n    'serp_freshness_weight',\n    'serp_volatility_weight',\n    'competitor_weakness_weight'\n  ], form);\n\n  const totalWeight = Object.values(allWeights || {}).reduce((sum, current) => sum + (current || 0), 0);\n\n  const renderWeightInput = (name, label, tooltip) => (\n    <Col span={24}>\n      <Form.Item \n        name={name} \n        label={\n          <Space>\n            {label}\n            {tooltip && <Tooltip title={tooltip}><InfoCircleOutlined /></Tooltip>}\n          </Space>\n        }\n        rules={[{ required: true, message: 'Weight is required' }]}\n        style={{ marginBottom: 0 }}\n      >\n        <Row>\n          <Col span={18}>\n            <Slider min={0} max={100} step={1} style={{ margin: '0 8px' }} />\n          </Col>\n          <Col span={4}>\n            <InputNumber min={0} max={100} step={1} style={{ width: '100%' }} />\n          </Col>\n        </Row>\n      </Form.Item>\n    </Col>\n  );\n\n  return (\n    <>\n      <Title level={5}>Strategic Scoring Weights (Sum to {totalWeight}%)</Title>\n      {totalWeight !== 100 && (\n        <Alert\n          message=\"Warning: Total weight is not 100%\"\n          description=\"The sum of all weights should ideally be 100% for proper normalization. Consider adjusting your weights.\"\n          type=\"warning\"\n          showIcon\n          style={{ marginBottom: '16px' }}\n        />\n      )}\n      <Row gutter={16}>\n        {renderWeightInput('ease_of_ranking_weight', 'Ease of Ranking', 'How easy it is to rank (based on KD, backlinks).')}\n        {renderWeightInput('traffic_potential_weight', 'Traffic Potential', 'How much traffic the keyword can bring (based on Search Volume).')}\n        {renderWeightInput('commercial_intent_weight', 'Commercial Intent', 'How likely the keyword is to lead to a conversion (based on CPC, intent type).')}\n        {renderWeightInput('serp_features_weight', 'SERP Features', 'Impact of rich SERP features (Featured Snippets, AI Overviews).')}\n        {renderWeightInput('growth_trend_weight', 'Growth Trend', 'How quickly the search volume is growing or declining.')}\n        {renderWeightInput('serp_freshness_weight', 'SERP Freshness', 'How recently the SERP was updated (opportunity if stale).')}\n        {renderWeightInput('serp_volatility_weight', 'SERP Volatility', 'How often the SERP changes (opportunity if stable).')}\n        {renderWeightInput('competitor_weakness_weight', 'Competitor Weakness', 'Exploitable technical or content flaws of top competitors.')}\n      </Row>\n\n      <Divider />\n\n      <Title level={5}>Scoring Normalization Values</Title>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item name=\"max_cpc_for_scoring\" label=\"Max CPC for Scoring\">\n            <InputNumber min={0.0} step={1.0} style={{ width: '100%' }} />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"max_sv_for_scoring\" label=\"Max Search Volume for Scoring\">\n            <InputNumber min={0} step={1000} style={{ width: '100%' }} />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"max_domain_rank_for_scoring\" label=\"Max Domain Rank for Scoring\">\n            <InputNumber min={0} step={100} style={{ width: '100%' }} />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item name=\"max_referring_domains_for_scoring\" label=\"Max Referring Domains for Scoring\">\n            <InputNumber min={0} step={50} style={{ width: '100%' }} />\n          </Form.Item>\n        </Col>\n      </Row>\n    </>\n  );\n};\n\nexport default ScoringWeightsTab;",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/ActionCenter.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/AdditionalInsights.jsx",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'Tag' is defined but never used.",
                    "line": 2,
                    "column": 34,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 2,
                    "endColumn": 37
                },
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'Paragraph' is assigned a value but never used.",
                    "line": 4,
                    "column": 16,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 4,
                    "endColumn": 25
                }
            ],
            "suppressedMessages": [],
            "errorCount": 2,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "import React from 'react';\nimport { Card, Typography, List, Tag } from 'antd';\n\nconst { Title, Paragraph } = Typography;\n\nconst AdditionalInsights = ({ serpOverview }) => {\n  return (\n    <Card title=\"Additional Insights\">\n      {serpOverview?.discussion_snippets?.length > 0 && (\n        <>\n          <Title level={5}>Discussion Snippets</Title>\n          <List\n            dataSource={serpOverview.discussion_snippets}\n            renderItem={(item) => <List.Item>{item}</List.Item>}\n            size=\"small\"\n            bordered\n            style={{ marginBottom: '24px' }}\n          />\n        </>\n      )}\n    </Card>\n  );\n};\n\nexport default AdditionalInsights;\n",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/ArticlePreview.jsx",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'Alert' is defined but never used.",
                    "line": 2,
                    "column": 35,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 2,
                    "endColumn": 40
                },
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'Paragraph' is assigned a value but never used.",
                    "line": 5,
                    "column": 16,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 5,
                    "endColumn": 25
                }
            ],
            "suppressedMessages": [],
            "errorCount": 2,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "import React from 'react';\nimport { Card, Typography, Image, Alert } from 'antd';\nimport NoData from './NoData';\n\nconst { Title, Paragraph } = Typography;\n\nconst ArticlePreview = ({ aiContent, finalPackage }) => {\n  if (!aiContent) {\n    return <NoData description=\"No article content has been generated yet.\" />;\n  }\n\n  const { article_title, article_body_html } = aiContent;\n  const featuredImagePath = finalPackage?.featured_image_relative_path;\n\n  return (\n    <Card>\n      <Title level={2}>{article_title}</Title>\n      {featuredImagePath ? (\n        <div style={{ textAlign: 'center', marginBottom: '24px' }}>\n          <Image\n            width=\"50%\"\n            src={featuredImagePath}\n            alt={article_title}\n          />\n        </div>\n      ) : (\n        <NoData description=\"No featured image has been generated yet.\" />\n      )}\n      <div dangerouslySetInnerHTML={{ __html: article_body_html }} />\n    </Card>\n  );\n};\n\nexport default ArticlePreview;\n",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/CompetitorBacklinks.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/ContentAuditCard.jsx",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'Tag' is defined but never used.",
                    "line": 2,
                    "column": 34,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 2,
                    "endColumn": 37
                },
                {
                    "ruleId": "react/jsx-no-undef",
                    "severity": 2,
                    "message": "'Space' is not defined.",
                    "line": 59,
                    "column": 10,
                    "nodeType": "JSXIdentifier",
                    "messageId": "undefined",
                    "endLine": 59,
                    "endColumn": 15
                }
            ],
            "suppressedMessages": [],
            "errorCount": 2,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "import React from 'react';\nimport { Card, Typography, List, Tag, Progress } from 'antd';\nimport { CheckCircleOutlined, CloseCircleOutlined } from '@ant-design/icons';\n\nconst { Title, Text } = Typography;\n\nconst ContentAuditCard = ({ auditResults }) => {\n  if (!auditResults) {\n    return null;\n  }\n\n  const {\n    flesch_kincaid_grade,\n    readability_assessment,\n    entity_coverage_score,\n    missing_entities,\n    publish_readiness_issues,\n  } = auditResults;\n\n  return (\n    <Card title=\"Content Audit\" style={{ marginTop: 24 }}>\n      <Title level={5}>Readability</Title>\n      <Text>{readability_assessment}</Text>\n      <Text strong style={{ display: 'block', marginTop: 8 }}>\n        Flesch-Kincaid Grade Level: {flesch_kincaid_grade.toFixed(1)}\n      </Text>\n\n      <Title level={5} style={{ marginTop: 16 }}>Entity Coverage</Title>\n      <Progress percent={entity_coverage_score} />\n      {missing_entities && missing_entities.length > 0 && (\n        <>\n          <Text strong style={{ display: 'block', marginTop: 8 }}>Missing Entities:</Text>\n          <List\n            dataSource={missing_entities}\n            renderItem={(item) => (\n              <List.Item>\n                <CloseCircleOutlined style={{ color: 'red', marginRight: 8 }} />\n                {item}\n              </List.Item>\n            )}\n            size=\"small\"\n          />\n        </>\n      )}\n\n      <Title level={5} style={{ marginTop: 16 }}>Publishing Readiness</Title>\n      {publish_readiness_issues && publish_readiness_issues.length > 0 ? (\n        <List\n          dataSource={publish_readiness_issues}\n          renderItem={(item) => (\n            <List.Item>\n              <CloseCircleOutlined style={{ color: 'red', marginRight: 8 }} />\n              <Text>{item.issue}: {item.context}</Text>\n            </List.Item>\n          )}\n          size=\"small\"\n        />\n      ) : (\n        <Space>\n          <CheckCircleOutlined style={{ color: 'green' }} />\n          <Text>No publishing readiness issues found.</Text>\n        </Space>\n      )}\n    </Card>\n  );\n};\n\nexport default ContentAuditCard;\n",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/ContentBlueprint.jsx",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'useEffect' is defined but never used.",
                    "line": 1,
                    "column": 27,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 1,
                    "endColumn": 36
                },
                {
                    "ruleId": "react/no-unescaped-entities",
                    "severity": 2,
                    "message": "`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.",
                    "line": 138,
                    "column": 36,
                    "nodeType": "JSXText",
                    "messageId": "unescapedEntityAlts",
                    "suggestions": [
                        {
                            "messageId": "replaceWithAlt",
                            "data": {
                                "alt": "&quot;"
                            },
                            "fix": {
                                "range": [
                                    5307,
                                    5321
                                ],
                                "text": "Anchor Text: &quot;"
                            },
                            "desc": "Replace with `&quot;`."
                        },
                        {
                            "messageId": "replaceWithAlt",
                            "data": {
                                "alt": "&ldquo;"
                            },
                            "fix": {
                                "range": [
                                    5307,
                                    5321
                                ],
                                "text": "Anchor Text: &ldquo;"
                            },
                            "desc": "Replace with `&ldquo;`."
                        },
                        {
                            "messageId": "replaceWithAlt",
                            "data": {
                                "alt": "&#34;"
                            },
                            "fix": {
                                "range": [
                                    5307,
                                    5321
                                ],
                                "text": "Anchor Text: &#34;"
                            },
                            "desc": "Replace with `&#34;`."
                        },
                        {
                            "messageId": "replaceWithAlt",
                            "data": {
                                "alt": "&rdquo;"
                            },
                            "fix": {
                                "range": [
                                    5307,
                                    5321
                                ],
                                "text": "Anchor Text: &rdquo;"
                            },
                            "desc": "Replace with `&rdquo;`."
                        }
                    ]
                },
                {
                    "ruleId": "react/no-unescaped-entities",
                    "severity": 2,
                    "message": "`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.",
                    "line": 138,
                    "column": 55,
                    "nodeType": "JSXText",
                    "messageId": "unescapedEntityAlts",
                    "suggestions": [
                        {
                            "messageId": "replaceWithAlt",
                            "data": {
                                "alt": "&quot;"
                            },
                            "fix": {
                                "range": [
                                    5339,
                                    5340
                                ],
                                "text": "&quot;"
                            },
                            "desc": "Replace with `&quot;`."
                        },
                        {
                            "messageId": "replaceWithAlt",
                            "data": {
                                "alt": "&ldquo;"
                            },
                            "fix": {
                                "range": [
                                    5339,
                                    5340
                                ],
                                "text": "&ldquo;"
                            },
                            "desc": "Replace with `&ldquo;`."
                        },
                        {
                            "messageId": "replaceWithAlt",
                            "data": {
                                "alt": "&#34;"
                            },
                            "fix": {
                                "range": [
                                    5339,
                                    5340
                                ],
                                "text": "&#34;"
                            },
                            "desc": "Replace with `&#34;`."
                        },
                        {
                            "messageId": "replaceWithAlt",
                            "data": {
                                "alt": "&rdquo;"
                            },
                            "fix": {
                                "range": [
                                    5339,
                                    5340
                                ],
                                "text": "&rdquo;"
                            },
                            "desc": "Replace with `&rdquo;`."
                        }
                    ]
                }
            ],
            "suppressedMessages": [],
            "errorCount": 3,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "import React, { useState, useEffect } from 'react';\nimport { Card, Typography, List, Tag, Descriptions, Button, Tooltip, Select } from 'antd';\nimport { CopyOutlined, LinkOutlined, BulbOutlined, PlusOutlined } from '@ant-design/icons';\nimport { useNotifications } from '../../../context/NotificationContext';\nimport NoData from './NoData';\n\nconst { Title, Paragraph, Text } = Typography;\nconst { Option } = Select;\n\nconst ContentBlueprint = ({ blueprint, overrides, setOverrides }) => {\n  const { showNotification } = useNotifications();\n  const [paaToAdd, setPaaToAdd] = useState(null);\n\n  if (!blueprint) {\n    return <Card><Paragraph type=\"secondary\">No content blueprint available.</Paragraph></Card>;\n  }\n\n  const { ai_content_brief, content_intelligence, recommended_strategy } = blueprint;\n  const people_also_ask = blueprint.serp_overview?.people_also_ask || [];\n\n  const handleCopyOutline = () => {\n    const outline = overrides\n      .map((item) => {\n        const h3s = item.h3s.map((h3) => `  - ${h3}`).join('\\n');\n        return `${item.h2}\\n${h3s}`;\n      })\n      .join('\\n\\n');\n    navigator.clipboard.writeText(outline);\n    showNotification('success', 'Copied to Clipboard', 'The article outline has been copied.');\n  };\n\n  const handleAddPaa = () => {\n    if (!paaToAdd) return;\n\n    const faqSectionIndex = overrides.findIndex(sec => sec.h2.toLowerCase().includes('frequently asked questions'));\n    \n    if (faqSectionIndex > -1) {\n      const newStructure = [...overrides];\n      newStructure[faqSectionIndex].h3s.push(paaToAdd);\n      setOverrides(newStructure);\n      showNotification('success', 'Question Added', `\"${paaToAdd}\" was added to the outline.`);\n    } else {\n      showNotification('warning', 'Section Not Found', 'Could not find a \"Frequently Asked Questions\" section to add this to.');\n    }\n    setPaaToAdd(null);\n  };\n  \n  return (\n    <Card title=\"AI Content Blueprint\">\n      <Descriptions bordered column={1} size=\"small\" style={{ marginBottom: '24px' }}>\n        <Descriptions.Item label=\"Target Audience\">{ai_content_brief?.target_audience_persona || 'Not available'}</Descriptions.Item>\n        <Descriptions.Item label=\"Primary Goal\">{ai_content_brief?.primary_goal || 'Not available'}</Descriptions.Item>\n        <Descriptions.Item label=\"Target Word Count\">{ai_content_brief?.target_word_count || 'Not available'}</Descriptions.Item>\n      </Descriptions>\n\n      <Title level={5}>Dynamic SERP Instructions</Title>\n      <List\n        dataSource={ai_content_brief.dynamic_serp_instructions}\n        renderItem={(item) => <List.Item><BulbOutlined style={{ marginRight: 8 }} />{item}</List.Item>}\n        style={{ marginBottom: '24px' }}\n        size=\"small\"\n      />\n\n      <Title level={5}>Content Gaps & Unique Angles</Title>\n      <List\n        dataSource={content_intelligence.identified_content_gaps}\n        renderItem={(item) => <List.Item>{item}</List.Item>}\n        style={{ marginBottom: '24px' }}\n      />\n\n      <Title level={5}>Recommended Article Structure</Title>\n      <div style={{ marginBottom: 16 }}>\n        <Select\n          showSearch\n          placeholder=\"Select a 'People Also Ask' question to add to your outline\"\n          style={{ width: 'calc(100% - 120px)', marginRight: 8 }}\n          onChange={value => setPaaToAdd(value)}\n          value={paaToAdd}\n        >\n          {people_also_ask.map(q => <Option key={q} value={q}>{q}</Option>)}\n        </Select>\n        <Button icon={<PlusOutlined />} onClick={handleAddPaa} disabled={!paaToAdd}>Add</Button>\n        <Button\n          icon={<CopyOutlined />}\n          onClick={handleCopyOutline}\n          style={{ float: 'right' }}\n        >\n          Copy Outline\n        </Button>\n      </div>\n      <List\n        dataSource={overrides}\n        renderItem={(item) => (\n          <List.Item>\n            <List.Item.Meta\n              title={item.h2}\n              description={\n                <div style={{ paddingLeft: '20px' }}>\n                  {item.h3s.map(h3 => <p key={h3} style={{ margin: '4px 0' }}>- {h3}</p>)}\n                </div>\n              }\n            />\n          </List.Item>\n        )}\n        style={{ marginBottom: '24px' }}\n      />\n\n      <Title level={5}>Key Entities to Mention</Title>\n      <div style={{ marginBottom: '24px' }}>\n        {content_intelligence.key_entities_from_competitors.map((entity) => (\n          <Tag key={entity} style={{ margin: '4px' }}>{entity}</Tag>\n        ))}\n      </div>\n\n      <Title level={5}>Focus Competitors</Title>\n      <List\n        dataSource={recommended_strategy.focus_competitors}\n        renderItem={(item) => (\n          <List.Item>\n            <a href={item.url} target=\"_blank\" rel=\"noopener noreferrer\">\n              <LinkOutlined style={{ marginRight: 8 }} />\n              {item.title}\n            </a>\n          </List.Item>\n        )}\n        style={{ marginBottom: '24px' }}\n        bordered\n        size=\"small\"\n      />\n\n      <Title level={5}>Internal Linking Suggestions</Title>\n      {blueprint.internal_linking_suggestions && blueprint.internal_linking_suggestions.length > 0 ? (\n        <List\n          dataSource={blueprint.internal_linking_suggestions}\n          renderItem={(item) => (\n            <List.Item>\n              <Tooltip title={`Link to: ${item.url}`}>\n                <Text>Anchor Text: \"{item.anchor_text}\"</Text>\n              </Tooltip>\n            </List.Item>\n          )}\n          bordered\n          size=\"small\"\n        />\n      ) : (\n        <NoData description=\"No internal linking suggestions were generated.\" />\n      )}\n    </Card>\n  );\n};\n\nexport default ContentBlueprint;\n",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/ErrorMessage.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/ExecutiveSummary.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/FactorsCard.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/FeaturedSnippetCard.jsx",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'Title' is assigned a value but never used.",
                    "line": 5,
                    "column": 9,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 5,
                    "endColumn": 14
                }
            ],
            "suppressedMessages": [],
            "errorCount": 1,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "import React from 'react';\nimport { Card, Typography } from 'antd';\nimport { TrophyOutlined } from '@ant-design/icons';\n\nconst { Title, Paragraph } = Typography;\n\nconst FeaturedSnippetCard = ({ blueprint }) => {\n  const featuredSnippet = blueprint?.serp_overview?.featured_snippet_content;\n\n  if (!featuredSnippet) {\n    return null; // Don't render the card if there's no snippet\n  }\n\n  return (\n    <Card\n      title={<span><TrophyOutlined style={{ marginRight: 8 }} /> Featured Snippet Opportunity</span>}\n      bordered={false}\n      style={{ backgroundColor: '#e6f7ff' }}\n    >\n      <Paragraph>\n        The following content currently holds the featured snippet position. Your goal is to provide a better, more direct answer.\n      </Paragraph>\n      <Paragraph blockquote=\"true\" style={{ fontStyle: 'italic' }}>\n        {featuredSnippet}\n      </Paragraph>\n    </Card>\n  );\n};\n\nexport default FeaturedSnippetCard;\n",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/GrowthTrend.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/IntentAnalysis.jsx",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'Title' is assigned a value but never used.",
                    "line": 5,
                    "column": 9,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 5,
                    "endColumn": 14
                }
            ],
            "suppressedMessages": [],
            "errorCount": 1,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "import React from 'react';\nimport { Card, Typography, Tag, Tooltip } from 'antd';\nimport { AimOutlined, DollarOutlined } from '@ant-design/icons';\n\nconst { Title, Text } = Typography;\n\nconst IntentAnalysis = ({ searchIntentInfo }) => {\n  if (!searchIntentInfo) {\n    return null;\n  }\n\n  const { main_intent, foreign_intent } = searchIntentInfo;\n\n  const intentColor = {\n    informational: 'blue',\n    commercial: 'gold',\n    transactional: 'green',\n    navigational: 'purple',\n  };\n\n  return (\n    <Card title=\"Search Intent Analysis\">\n      <Tooltip title=\"The primary reason a user is searching for this keyword.\">\n        <div>\n          <Text strong>Main Intent: </Text>\n          <Tag color={intentColor[main_intent] || 'default'} icon={<AimOutlined />}>\n            {main_intent?.toUpperCase()}\n          </Tag>\n        </div>\n      </Tooltip>\n      {foreign_intent?.length > 0 && (\n        <Tooltip title=\"Other potential intents this keyword might satisfy.\">\n          <div style={{ marginTop: '16px' }}>\n            <Text strong>Secondary Intents: </Text>\n            {foreign_intent.map(intent => (\n              <Tag key={intent} color={intentColor[intent] || 'default'} icon={<DollarOutlined />}>\n                {intent.toUpperCase()}\n              </Tag>\n            ))}\n          </div>\n        </Tooltip>\n      )}\n    </Card>\n  );\n};\n\nexport default IntentAnalysis;\n",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/KeywordMetrics.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/MetaInfo.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/NoData.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/OpportunityHeader.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/QualificationInfo.jsx",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'CheckSquareOutlined' is defined but never used.",
                    "line": 3,
                    "column": 10,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 3,
                    "endColumn": 29
                }
            ],
            "suppressedMessages": [],
            "errorCount": 1,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "import React from 'react';\nimport { Card, Typography, Tag } from 'antd';\nimport { CheckSquareOutlined } from '@ant-design/icons';\n\nconst { Text } = Typography;\n\nconst QualificationInfo = ({ status, reason }) => {\n  if (!status) {\n    return null;\n  }\n\n  return (\n    <Card title=\"Initial Qualification\">\n      <Text strong>Status: </Text>\n      <Tag color={status === 'review' ? 'orange' : 'default'}>{status.toUpperCase()}</Tag>\n      <Text type=\"secondary\" style={{ marginTop: '16px', display: 'block' }}>\n        {reason}\n      </Text>\n    </Card>\n  );\n};\n\nexport default QualificationInfo;\n",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/RecommendedStrategyCard.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/SerpAnalysis.jsx",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'Text' is assigned a value but never used.",
                    "line": 17,
                    "column": 27,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 17,
                    "endColumn": 31
                }
            ],
            "suppressedMessages": [],
            "errorCount": 1,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "import React from 'react';\nimport { Card, Table, Tag, List, Typography, Button, Statistic, Row, Col } from 'antd';\nimport {\n  FileTextOutlined,\n  VideoCameraOutlined,\n  QuestionCircleOutlined,\n  CommentOutlined,\n  SearchOutlined,\n  CopyOutlined,\n  RobotOutlined,\n  FileDoneOutlined,\n  LinkOutlined,\n  StarFilled\n} from '@ant-design/icons';\nimport { useNotifications } from '../../../context/NotificationContext';\n\nconst { Title, Paragraph, Text } = Typography;\n\nconst SerpAnalysis = ({ blueprint }) => {\n  const { showNotification } = useNotifications();\n\n  if (!blueprint || !blueprint.serp_overview) {\n    return <Card><Paragraph type=\"secondary\">No SERP analysis available.</Paragraph></Card>;\n  }\n\n  const { top_organic_results, people_also_ask, related_searches, top_organic_sitelinks, serp_has_ai_overview, dominant_content_format } = blueprint.serp_overview;\n  const { serp_item_types, se_results_count } = blueprint.winning_keyword.serp_info;\n\n  const getSerpFeatureIcon = (item) => {\n    if (item.includes('video')) return <VideoCameraOutlined />;\n    if (item.includes('people_also_ask')) return <QuestionCircleOutlined />;\n    if (item.includes('perspectives')) return <CommentOutlined />;\n    if (item.includes('related_searches')) return <SearchOutlined />;\n    return <FileTextOutlined />;\n  };\n\n  const handleCopyPaA = () => {\n    navigator.clipboard.writeText(people_also_ask.join('\\n'));\n    showNotification('success', 'Copied to Clipboard', 'People Also Ask questions have been copied.');\n  };\n\n  const columns = [\n    { title: 'Rank', dataIndex: 'rank', key: 'rank' },\n    { title: 'Title', dataIndex: 'title', key: 'title', render: (text, record) => <a href={record.url} target=\"_blank\" rel=\"noopener noreferrer\">{text}</a> },\n    { title: 'Domain', dataIndex: 'domain', key: 'domain' },\n    { title: 'Page Type', dataIndex: 'page_type', key: 'page_type', render: (type) => <Tag>{type}</Tag> },\n    { \n      title: 'Rating', \n      dataIndex: 'rating', \n      key: 'rating', \n      render: (rating) => rating ? <span><StarFilled style={{ color: '#fadb14' }} /> {rating.value} ({rating.votes_count})</span> : null \n    },\n  ];\n\n  const handleRelatedSearchClick = (term) => {\n    // In a real app, you would likely navigate to the discovery page with this term\n    console.log(`Starting a new discovery run for: ${term}`);\n    showNotification('info', 'Discovery Run Started', `A new discovery run has been initiated for \"${term}\".`);\n  };\n\n  return (\n    <Card title=\"SERP Analysis\">\n      <Row gutter={16} style={{ marginBottom: 24 }}>\n        <Col span={8}>\n          <Statistic title=\"Total Search Results\" value={se_results_count} />\n        </Col>\n        <Col span={8}>\n          <Statistic title=\"AI Overview in SERP\" value={serp_has_ai_overview ? 'Yes' : 'No'} prefix={<RobotOutlined />} />\n        </Col>\n        <Col span={8}>\n           <Statistic title=\"Dominant Content Format\" value={dominant_content_format} prefix={<FileDoneOutlined />} />\n        </Col>\n      </Row>\n\n      <Title level={5}>SERP Features Present</Title>\n      <List\n        dataSource={serp_item_types}\n        renderItem={(item) => <List.Item><Tag icon={getSerpFeatureIcon(item)}>{item.replace(/_/g, ' ')}</Tag></List.Item>}\n        grid={{ gutter: 16, column: 4 }}\n        style={{ marginBottom: 24 }}\n      />\n\n      <Title level={5}>People Also Ask</Title>\n      <Button icon={<CopyOutlined />} onClick={handleCopyPaA} style={{ float: 'right' }}>Copy</Button>\n      <List dataSource={people_also_ask} renderItem={(item) => <List.Item>{item}</List.Item>} style={{ marginBottom: 24 }} />\n\n      <Title level={5}>Related Searches</Title>\n      <div style={{ marginBottom: 24 }}>\n        {related_searches.map(term => (\n          <Tag \n            icon={<SearchOutlined />} \n            key={term} \n            style={{ margin: 4, cursor: 'pointer' }}\n            onClick={() => handleRelatedSearchClick(term)}\n          >\n            {term}\n          </Tag>\n        ))}\n      </div>\n      \n      {top_organic_sitelinks?.length > 0 && <>\n        <Title level={5}>Top Organic Sitelinks</Title>\n        <List dataSource={top_organic_sitelinks} renderItem={(item) => <List.Item><LinkOutlined /> {item}</List.Item>} style={{ marginBottom: 24 }} />\n      </>}\n\n      <Title level={5}>Top 10 Organic Results</Title>\n      <Table columns={columns} dataSource={top_organic_results} rowKey=\"url\" pagination={false} size=\"small\" />\n    </Card>\n  );\n};\n\nexport default SerpAnalysis;\n",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/SerpVitals.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/SocialMediaTab.jsx",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'Title' is assigned a value but never used.",
                    "line": 6,
                    "column": 9,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 6,
                    "endColumn": 14
                }
            ],
            "suppressedMessages": [],
            "errorCount": 1,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "import React from 'react';\nimport { Card, Typography, List, Button, Tooltip } from 'antd';\nimport { CopyOutlined } from '@ant-design/icons';\nimport { useNotifications } from '../../../context/NotificationContext';\n\nconst { Title, Paragraph } = Typography;\n\nconst SocialMediaTab = ({ socialMediaPosts }) => {\n  const { showNotification } = useNotifications();\n\n  if (!socialMediaPosts || socialMediaPosts.length === 0) {\n    return <Card><Paragraph>No social media posts have been generated yet.</Paragraph></Card>;\n  }\n\n  const handleCopy = (text) => {\n    navigator.clipboard.writeText(text);\n    showNotification('success', 'Copied to Clipboard', 'The post content has been copied.');\n  };\n\n  return (\n    <List\n      grid={{ gutter: 16, column: 2 }}\n      dataSource={socialMediaPosts}\n      renderItem={(post) => (\n        <List.Item>\n          <Card title={post.platform}>\n            <Paragraph>{post.content}</Paragraph>\n            <Tooltip title=\"Copy Post\">\n              <Button\n                icon={<CopyOutlined />}\n                onClick={() => handleCopy(post.content)}\n              />\n            </Tooltip>\n          </Card>\n        </List.Item>\n      )}\n    />\n  );\n};\n\nexport default SocialMediaTab;\n",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/StrategicNotes.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/StrategicScoreBreakdown.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/VerdictCard.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/WorkflowStatusAlert.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/components/WorkflowTracker.jsx",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'useEffect' is defined but never used.",
                    "line": 1,
                    "column": 17,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 1,
                    "endColumn": 26
                },
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'useState' is defined but never used.",
                    "line": 1,
                    "column": 28,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 1,
                    "endColumn": 36
                }
            ],
            "suppressedMessages": [],
            "errorCount": 2,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "import React, { useEffect, useState } from 'react';\nimport { Card, Steps, Spin, Alert, Button } from 'antd';\nimport { useQuery, useQueryClient } from 'react-query';\nimport { useNavigate } from 'react-router-dom';\nimport { getJobStatus } from '../../../services/jobsService';\nimport { CheckCircleOutlined } from '@ant-design/icons';\n\nconst { Step } = Steps;\n\nconst IN_PROGRESS_STATUSES = ['processing', 'running', 'in_progress', 'pending', 'refresh_started'];\n\nconst WorkflowTracker = ({ opportunity }) => {\n  const { latest_job_id, status, error_message } = opportunity;\n  const navigate = useNavigate();\n  const queryClient = useQueryClient();\n\n  const { data: jobStatus, isLoading: isLoadingStatus } = useQuery(\n    ['jobStatus', latest_job_id],\n    () => getJobStatus(latest_job_id),\n    {\n      enabled: !!latest_job_id,\n      refetchInterval: (data) => {\n        const status = data?.status;\n        return (status === 'completed' || status === 'failed' || status === 'paused') ? false : 3000;\n      },\n      onSuccess: (data) => {\n        if (data?.status === 'completed' || data?.status === 'failed' || data?.status === 'paused') {\n          queryClient.invalidateQueries(['opportunity', opportunity.id]);\n        }\n        \n        if (data?.status === 'completed' && data.result?.redirect_url) {\n          setTimeout(() => {\n            navigate(data.result.redirect_url);\n          }, 1500);\n        }\n      },\n    }\n  );\n\n  const progressLog = jobStatus?.progress_log || [];\n  const currentStepIndex = progressLog.length > 0 ? progressLog.length - 1 : 0;\n\n  // Don't render anything if there's no job or the workflow is in a non-terminal, non-processing state\n  if (!latest_job_id || (!IN_PROGRESS_STATUSES.includes(status) && status !== 'failed' && jobStatus?.status !== 'completed')) {\n    return null;\n  }\n\n  const isJobRunning = jobStatus?.status === 'running' || jobStatus?.status === 'pending';\n\n  return (\n    <Card title=\"Workflow Status\" style={{ marginTop: 24 }}>\n      {isLoadingStatus && !jobStatus && <Spin tip=\"Initializing workflow status...\" />}\n      \n      {progressLog.length > 0 && (\n        <Steps direction=\"vertical\" current={currentStepIndex}>\n          {progressLog.map((log, index) => (\n            <Step \n              key={index} \n              title={log.step} \n              description={log.message} \n              icon={isJobRunning && index === currentStepIndex ? <Spin /> : null}\n            />\n          ))}\n        </Steps>\n      )}\n\n      {jobStatus?.status === 'completed' && (\n        <Alert\n          message=\"Workflow Completed\"\n          description={jobStatus.result?.message || 'The workflow finished successfully.'}\n          type=\"success\"\n          showIcon\n          icon={<CheckCircleOutlined />}\n          action={\n            jobStatus.result?.redirect_url && (\n              <Button size=\"small\" type=\"primary\" onClick={() => navigate(jobStatus.result.redirect_url)}>\n                Go to Results\n              </Button>\n            )\n          }\n        />\n      )}\n\n      {jobStatus?.status === 'failed' && (\n        <Alert\n          message=\"Workflow Failed\"\n          description={jobStatus.error || error_message || 'An unknown error occurred.'}\n          type=\"error\"\n          showIcon\n        />\n      )}\n    </Card>\n  );\n};\n\nexport default WorkflowTracker;\n",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/hooks/useOpportunityData.js",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/pages/opportunity-detail-page/index.jsx",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/services/apiClient.js",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'ClientContext' is defined but never used.",
                    "line": 2,
                    "column": 10,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 2,
                    "endColumn": 23
                }
            ],
            "suppressedMessages": [],
            "errorCount": 1,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "import axios from 'axios';\nimport { ClientContext } from '../context/ClientContext'; // Import ClientContext\n\n// Create an Axios instance for API communication\nconst apiClient = axios.create({\n  // The base URL is handled by the Vite proxy, so we can use relative paths like /api\n  headers: {\n    'Content-Type': 'application/json', // Default content type for requests\n  },\n  // You could add a timeout here if desired\n  // timeout: 10000, \n});\n\n// Below the `axios.create` block, add the request interceptor:\napiClient.interceptors.request.use(\n  (config) => {\n    // Dynamically get the current client ID from localStorage\n    const currentClientId = localStorage.getItem('currentClientId');\n    if (currentClientId) {\n      config.headers['X-Client-ID'] = currentClientId;\n    }\n    const token = localStorage.getItem('authToken');\n    if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Interceptor to handle successful responses\napiClient.interceptors.response.use(\n  (response) => {\n    // Axios wraps the actual data in a `data` property. We return just the data.\n    return response.data;\n  },\n  (error) => {\n    // Centralized error handling for all API calls\n    console.error('API Error:', error.response || error.message);\n\n    // Optionally, you could check for specific status codes (e.g., 401 for unauthorized)\n    // and trigger global actions like showing a notification or redirecting to login.\n    // if (error.response && error.response.status === 401) {\n    //   // handle unauthorized\n    // }\n\n    // If the error is an AbortError from AbortController, do not treat it as a critical failure\n    if (axios.isCancel(error) || error.code === 'ERR_CANCELED') {\n        // Propagate as a cancelled error for specific handling in components\n        const cancelledError = new Error('Request was cancelled');\n        cancelledError.name = 'CanceledError';\n        return Promise.reject(cancelledError);\n    }\n\n    return Promise.reject(error); // Re-throw the error for component-specific handling\n  }\n);\n\nexport default apiClient;\n",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/services/authService.js",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/services/clientService.js",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/services/clientSettingsService.js",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/services/discoveryService.js",
            "messages": [
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'clientId' is defined but never used.",
                    "line": 17,
                    "column": 32,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 17,
                    "endColumn": 40
                },
                {
                    "ruleId": "no-unused-vars",
                    "severity": 2,
                    "message": "'clientId' is defined but never used.",
                    "line": 21,
                    "column": 36,
                    "nodeType": "Identifier",
                    "messageId": "unusedVar",
                    "endLine": 21,
                    "endColumn": 44
                }
            ],
            "suppressedMessages": [],
            "errorCount": 2,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "source": "import apiClient from './apiClient';\n\nexport const startDiscoveryRun = ({ clientId, runData }) => {\n  return apiClient.post(`/api/clients/${clientId}/discovery-runs-async`, runData);\n};\n\nexport const getDiscoveryRuns = (clientId, page = 1, filters = {}) => {\n  const params = {\n    page,\n    search_query: filters.searchQuery || undefined,\n    date_range_start: filters.dateRange ? filters.dateRange[0] : undefined,\n    date_range_end: filters.dateRange ? filters.dateRange[1] : undefined,\n  };\n  return apiClient.get(`/api/clients/${clientId}/discovery-runs`, { params });\n};\n\nexport const estimateCost = ({ clientId, seed_keywords, signal }) => {\n  return apiClient.post(`/api/discovery/estimate-cost`, { seed_keywords }, { signal });\n};\n\nexport const preCheckKeywords = ({ clientId, seed_keywords, signal }) => {\n  return apiClient.post(`/api/discovery/pre-check`, { seed_keywords }, { signal });\n};\n\nexport const rerunDiscoveryRun = (runId) => {\n  return apiClient.post(`/api/discovery-runs/rerun/${runId}`);\n};\n\nexport const getKeywordsForRun = (runId) => {\n  return apiClient.get(`/api/discovery-runs/${runId}/keywords`);\n};\n\nexport const getDisqualifiedKeywords = (runId, reason) => {\n    return apiClient.get(`/api/discovery-runs/${runId}/keywords/${reason}`);\n};\n\nexport const getDisqualificationReasons = (runId) => {\n  return apiClient.get(`/api/discovery-runs/${runId}/disqualification-reasons`);\n};\n\nexport const getJobStatus = (jobId) => {\n  return apiClient.get(`/api/jobs/${jobId}`);\n};\n\nexport const getOpportunities = (clientId, { page = 1, limit = 50, status = 'qualified', sort_by = 'strategic_score', sort_direction = 'desc' }) => {\n  return apiClient.get(`/api/clients/${clientId}/opportunities`, { \n    params: { page, limit, status, sort_by, sort_direction } \n  });\n};\n\nexport const getDiscoveryRunById = async (runId) => {\n  const response = await apiClient.get(`/api/discovery-runs/${runId}`);\n  return response;\n};",
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/services/jobsService.js",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/services/opportunitiesService.js",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/services/orchestratorService.js",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/services/settingsService.js",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        },
        {
            "filePath": "/Users/ishtiaqbhatti/Desktop/clients/production/lark_app/client/my-content-app/src/utils/formatters.js",
            "messages": [],
            "suppressedMessages": [],
            "errorCount": 0,
            "fatalErrorCount": 0,
            "warningCount": 0,
            "fixableErrorCount": 0,
            "fixableWarningCount": 0,
            "usedDeprecatedRules": [
                {
                    "ruleId": "no-extra-semi",
                    "replacedBy": []
                },
                {
                    "ruleId": "no-mixed-spaces-and-tabs",
                    "replacedBy": []
                }
            ]
        }
    ]
}